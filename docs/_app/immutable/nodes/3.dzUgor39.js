var Rt=Object.defineProperty;var Lt=(n,t,e)=>t in n?Rt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var W=(n,t,e)=>Lt(n,typeof t!="symbol"?t+"":t,e);import{x as Vt,y as Ht,p as ct,h as At,s as Et,n as w,r as Gt,o as qt,e as X,c as Ut,z as ot}from"../chunks/scheduler.BQAbF66X.js";import{r as Xt,m as V,o as Yt,l as H,S as Bt,i as zt,e as R,s as Y,c as L,a as q,d as k,f as j,p as I,C as z,g as T,h as F,B as ht,n as dt,v as J,k as jt,w as Z,x as K,y as Q,A as Nt,t as E,b as B,D as lt,j as at}from"../chunks/index.l2PWj1v_.js";import{b as $t}from"../chunks/paths.BQCDhKMC.js";import{p as Jt}from"../chunks/stores.aEPfUGEO.js";import{d as Zt,f as Kt,e as ft,u as yt,h as Qt,i as te,j as St,C as ee,k as re,g as ne,t as se,H as ie,c as oe,F as le,S as wt}from"../chunks/content.DOEAsXkv.js";import{b as ae}from"../chunks/entry.CD542lvl.js";const ue=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Dt(n,t){const e=t.token={};function r(s,i,l,o){if(t.token!==e)return;t.resolved=o;let u=t.ctx;l!==void 0&&(u=u.slice(),u[l]=o);const a=s&&(t.current=s)(u);let _=!1;t.block&&(t.blocks?t.blocks.forEach((g,m)=>{m!==i&&g&&(Xt(),V(g,1,1,()=>{t.blocks[m]===g&&(t.blocks[m]=null)}),Yt())}):t.block.d(1),a.c(),H(a,1),a.m(t.mount(),t.anchor),_=!0),t.block=a,t.blocks&&(t.blocks[i]=a),_&&At()}if(Vt(n)){const s=Ht();if(n.then(i=>{ct(s),r(t.then,1,t.value,i),ct(null)},i=>{if(ct(s),r(t.catch,2,t.error,i),ct(null),!t.hasCatch)throw i}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,n),!0;t.resolved=n}}function Wt(n,t,e){const r=t.slice(),{resolved:s}=n;n.current===n.then&&(r[n.value]=s),n.current===n.catch&&(r[n.error]=s),n.block.p(r,e)}function ut(n,t){return rt(n,t,(e,r)=>e+r)}function et(n,t){return rt(n,t,(e,r)=>e-r)}function xt(n,t){let e=n;return t.min&&(e=rt(e,t.min,Math.max)),t.max&&(e=rt(e,t.max,Math.min)),e}function ce(n,t){return rt(n,t,(e,r)=>e/r)}function fe(n,t){return rt(n,t,Math.min)}function he(n,t){return rt(n,t,Math.max)}function de(n){return ge(n,Math.round)}function st(n,t){return n.x==t.x&&n.y==t.y}function ge(n,t){return{x:t(n.x),y:t(n.y)}}function rt(n,t,e){return{x:e(n.x,t.x),y:e(n.y,t.y)}}function pt(n){const t=new Map;return{call:(...e)=>{const r=JSON.stringify(e),s=t.get(r);if(s)return s;{const i=n(...e);return t.set(r,i),i}},clear:()=>{t.clear()}}}class me{constructor(t,e,r){W(this,"matrix");W(this,"initial");W(this,"current");W(this,"drag");this.matrix=r,this.initial={x:t,y:e},this.current={x:t,y:e},this.drag={from:null,to:null}}get rows(){return this.matrix.rows}get cols(){return this.matrix.cols}get image(){return this.matrix.image}isDragFrom(){return this.drag.from!=null}isDragTo(){return this.drag.to!=null}originOrCurrent(){var t,e;return((t=this.drag.from)==null?void 0:t.originCurrent)??((e=this.drag.to)==null?void 0:e.originCurrent)??this.current}getNext(t){return this.matrix.tileByCurrent(ut(this.current,t))}isAtInitial(){return st(this.current,this.initial)}isOkWith(t){return st(et(t.current,this.current),et(t.initial,this.initial))}isOkWithNext(t){const e=this.getNext(t);return e?e.isOkWith(this):!0}setDragFrom(t){if(this.drag.from!=null)throw new Error("setDragFrom: from already set");if(this.drag.to!=null)throw new Error("setDragFrom: to already set");if(!this.matrix.options.getSlotPos(this.current,this.cols))throw new Error("setDragFrom: slot not found");this.drag.from={originCurrent:this.current,originMouse:t,pullOffset:{x:0,y:0}}}updateDragFrom(t){if(this.drag.from==null)throw new Error("updateDragFrom: from unset");const e=et(t,this.drag.from.originMouse);this.drag.from.pullOffset=e}unsetDragFrom(){if(this.drag.from==null)throw new Error("unsetDragFrom: from unset");this.drag.from=null}setDragTo(){if(this.drag.from!=null)throw new Error("setDragTo: from already set");if(this.drag.to!=null)throw new Error("setDragTo: to already set");this.drag.to={originCurrent:this.current}}unsetDragTo(){if(this.drag.to==null)throw new Error("unsetDragTo: to unset");this.current=this.drag.to.originCurrent,this.drag.to=null}cancelDrag(){this.drag.from&&(this.current=this.drag.from.originCurrent,this.unsetDragFrom()),this.drag.to&&this.unsetDragTo()}style(){var l,o,u;const t=this.matrix.options.getGridSize(),e=this.matrix.options.getSlotPos(this.initial,this.cols);let r;this.isDragFrom()?r=this.originOrCurrent():r=this.current;const s=this.matrix.options.getSlotPos(r,this.cols),i=this.matrix.options.getSlotSize(r,this.cols);if(t&&e&&s&&i){let a={...e};a.x=Math.min(a.x,t.x-i.x),a.x=Math.max(a.x,0),a.x=a.x*-1,a.y=Math.min(a.y,t.y-i.y),a.y=Math.max(a.y,0),a.y=a.y*-1;const _=t;return`left: ${s.x+(((l=this.drag.from)==null?void 0:l.pullOffset.x)??0)}px; top: ${s.y+(((u=(o=this.drag.from)==null?void 0:o.pullOffset)==null?void 0:u.y)??0)}px; width: ${i.x}px; height: ${i.y}px;background-image: url(${this.image.url}); background-position: ${a.x}px ${a.y}px; background-size: ${_.x}px ${_.y}px ; `}}}function _e(n){const[t,...e]=n;if(t){const r={min:t.current,max:t.current};for(const s of e)r.min=fe(r.min,s.current),r.max=he(r.max,s.current);return r}else return null}const kt={x:0,y:-1},gt={x:0,y:1},bt={x:-1,y:0},mt={x:1,y:0},pe=[kt,gt,bt,mt];class ve{constructor(t){W(this,"options");W(this,"rows");W(this,"cols");W(this,"matrix",[]);W(this,"bounds");W(this,"dragFrom",null);this.options=t;let e=Zt(t.image.size,t.tileCount);this.cols=e.x,this.rows=e.y,this.matrix=[];for(let r=0;r<this.rows;r++)for(let s=0;s<this.cols;s++)this.matrix.push(new me(s,r,this));this.bounds={min:{x:0,y:0},max:{x:this.cols-1,y:this.rows-1}}}get image(){return this.options.image}*tiles(){for(const t of this.matrix)yield t}tileGroup(t){const e=new Set;function r(s){if(!e.has(s)){e.add(s);for(const i of pe){const l=s.getNext(i);l&&s.isOkWith(l)&&r(l)}}}return r(t),e}tileByInitial(t){return this.isInRange(t)?this.matrix[t.y*this.cols+t.x]:null}isInRange(t){return t.x>=0&&t.x<this.cols&&t.y>=0&&t.y<this.rows}tileByCurrent(t){for(const e of this.matrix)if(st(e.current,t))return e;return null}tileByOriginCurrent(t){for(const e of this.matrix)if(st(e.originOrCurrent(),t))return e;return null}style(){return`aspect-ratio: ${this.image.size.x} / ${this.image.size.y}; grid-template-columns: repeat(${this.cols}, 1fr);`}shuffle(t){const e=[...this.matrix.map(r=>({...r.current}))];Kt(t??Math.random,e);for(const r in this.matrix)this.matrix[r].current=e[r]}solveDrag(t,e){const r=[];if(e.x!=0||e.y!=0){const s=[];for(const i of t){const l=ut(i.current,e);if(!this.isInRange(l))return[];s.push({pos:l,tile:i})}for(const{pos:i,tile:l}of s){r.push({tile:l,pos:i,isDragTo:!1});const o=this.tileByOriginCurrent(i);if(o&&!t.includes(o)){let u,a,_=l,g=0;do{u=_.originOrCurrent(),a=!0;for(const{pos:m,tile:D}of s)if(st(m,u)){a=!1,_=D;break}if(g++,g>1e3)throw new Error("infinite loop")}while(!a);r.push({tile:o,pos:u,isDragTo:!0})}}}return r}isSolved(){for(const t of this.matrix)if(!t.isAtInitial())return!1;return!0}setDragFrom(t,e){const r=this.tileByOriginCurrent(t);if(r){const s=[...this.tileGroup(r)],i=_e(s);if(i==null)throw new Error("setDragFrom: boundingBox null");const l={min:et(this.bounds.min,i.min),max:et(this.bounds.max,i.max)};this.dragFrom={startClient:e,startPos:t,currentPos:t,tiles:s,dragActions:[],startOffsetBoundingBox:l},s.map(o=>o.setDragFrom(e))}}isDragging(){return this.dragFrom!=null}dragUpdate(t){var r;const e=this.options.getSlotSize(this.matrix[0].current,this.cols);if(e&&this.dragFrom){const s=et(t,this.dragFrom.startClient),i=xt(de(ce(s,e)),this.dragFrom.startOffsetBoundingBox),l=xt(ut(this.dragFrom.startPos,i),this.bounds),o=et(l,this.dragFrom.currentPos);this.dragFrom.currentPos=l;const u=this.solveDrag(this.dragFrom.tiles,o);u.length!=0&&(this.dragFrom.dragActions.map(a=>{a.isDragTo&&a.tile.unsetDragTo()}),this.dragFrom.dragActions=u,this.dragFrom.dragActions.map(a=>{a.isDragTo?a.tile.setDragTo():a.tile.updateDragFrom(t),a.tile.current=a.pos})),(r=this.dragFrom)==null||r.tiles.map(a=>{a.updateDragFrom(t)})}}unsetDragFrom(t){var r,s,i,l;let e;return t&&((r=this.dragFrom)!=null&&r.startPos)&&!st((s=this.dragFrom)==null?void 0:s.startPos,t)?e=!0:e=!1,(i=this.dragFrom)==null||i.tiles.map(o=>o.unsetDragFrom()),(l=this.dragFrom)==null||l.dragActions.map(o=>{o.isDragTo&&o.tile.unsetDragTo(),o.tile.current=o.pos}),this.dragFrom=null,e}cancelDrag(){this.matrix.forEach(t=>t.cancelDrag()),this.dragFrom=null}}const{window:vt}=ue;function Ft(n,t,e){const r=n.slice();return r[23]=t[e],r}function Ct(n,t,e){const r=n.slice();return r[23]=t[e],r[26]=t,r[27]=e,r}function It(n,t){let e,r,s,i=t[27];const l=()=>t[16](e,i),o=()=>t[16](null,i);return{key:n,first:null,c(){e=R("div"),this.h()},l(u){e=L(u,"DIV",{class:!0,"data-pos-x":!0,"data-pos-y":!0}),q(e).forEach(k),this.h()},h(){I(e,"class","slot svelte-e3hsms"),I(e,"data-pos-x",r=t[23].initial.x),I(e,"data-pos-y",s=t[23].initial.y),this.first=e},m(u,a){T(u,e,a),l()},p(u,a){t=u,a&8&&r!==(r=t[23].initial.x)&&I(e,"data-pos-x",r),a&8&&s!==(s=t[23].initial.y)&&I(e,"data-pos-y",s),i!==t[27]&&(o(),i=t[27],l())},d(u){u&&k(e),o()}}}function Mt(n,t){let e,r,s,i;return{key:n,first:null,c(){e=R("div"),this.h()},l(l){e=L(l,"DIV",{class:!0,style:!0}),q(e).forEach(k),this.h()},h(){I(e,"class","tile svelte-e3hsms"),I(e,"style",r=t[23].style()),z(e,"drag-from",t[23].isDragFrom()),z(e,"top-ok",t[23].isOkWithNext(kt)),z(e,"bottom-ok",t[23].isOkWithNext(gt)),z(e,"left-ok",t[23].isOkWithNext(bt)),z(e,"right-ok",t[23].isOkWithNext(mt)),this.first=e},m(l,o){T(l,e,o),s||(i=ht(e,"mousedown",t[4]),s=!0)},p(l,o){t=l,o&8&&r!==(r=t[23].style())&&I(e,"style",r),o&8&&z(e,"drag-from",t[23].isDragFrom()),o&8&&z(e,"top-ok",t[23].isOkWithNext(kt)),o&8&&z(e,"bottom-ok",t[23].isOkWithNext(gt)),o&8&&z(e,"left-ok",t[23].isOkWithNext(bt)),o&8&&z(e,"right-ok",t[23].isOkWithNext(mt))},d(l){l&&k(e),s=!1,i()}}}function ke(n){let t,e,r=[],s=new Map,i,l,o=[],u=new Map,a,_,g=ft([...n[3].tiles()]);const m=c=>c[23];for(let c=0;c<g.length;c+=1){let h=Ct(n,g,c),p=m(h);s.set(p,r[c]=It(p,h))}let D=ft([...n[3].tiles()]);const P=c=>c[23];for(let c=0;c<D.length;c+=1){let h=Ft(n,D,c),p=P(h);u.set(p,o[c]=Mt(p,h))}return{c(){t=R("div"),e=R("div");for(let c=0;c<r.length;c+=1)r[c].c();l=Y();for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){t=L(c,"DIV",{class:!0});var h=q(t);e=L(h,"DIV",{class:!0,style:!0});var p=q(e);for(let M=0;M<r.length;M+=1)r[M].l(p);p.forEach(k),l=j(h);for(let M=0;M<o.length;M+=1)o[M].l(h);h.forEach(k),this.h()},h(){I(e,"class","grid svelte-e3hsms"),I(e,"style",i=n[3].style()),I(t,"class","stack svelte-e3hsms"),z(t,"show-borders",n[0])},m(c,h){T(c,t,h),F(t,e);for(let p=0;p<r.length;p+=1)r[p]&&r[p].m(e,null);n[17](e),F(t,l);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(t,null);a||(_=[ht(vt,"mouseup",n[6]),ht(vt,"mousemove",n[5]),ht(vt,"beforeunload",n[7])],a=!0)},p(c,[h]){h&10&&(g=ft([...c[3].tiles()]),r=yt(r,h,m,1,c,g,s,e,St,It,null,Ct)),h&8&&i!==(i=c[3].style())&&I(e,"style",i),h&24&&(D=ft([...c[3].tiles()]),o=yt(o,h,P,1,c,D,u,t,St,Mt,null,Ft)),h&1&&z(t,"show-borders",c[0])},i:w,o:w,d(c){c&&k(t);for(let h=0;h<r.length;h+=1)r[h].d();n[17](null);for(let h=0;h<o.length;h+=1)o[h].d();a=!1,Gt(_)}}}function be(n){if(n.dataset.posX&&n.dataset.posY){const t=Number(n.dataset.posX),e=Number(n.dataset.posY);return{x:t,y:e}}else return null}function Ot(n){for(const t of document.elementsFromPoint(n.x,n.y))if(t instanceof HTMLElement){const e=be(t);if(e)return e}return null}function we(n,t,e){let{tileCount:r}=t,{seed:s}=t,{image:i}=t,{showBorders:l}=t,{actionCount:o=0}=t,{durationInSec:u=0}=t,{rows:a=0}=t,{cols:_=0}=t,{isSolved:g=!1}=t;const m=[];let D;const P=pt(()=>D?{x:D.offsetWidth,y:D.offsetHeight}:null),c=pt((f,C)=>{if(m.length>0){if(f.x>=C)return null;const O=f.y*C+f.x;if(O>=0&&O<m.length)return{x:m[O].offsetLeft,y:m[O].offsetTop}}return null}),h=pt((f,C)=>{if(m.length>0){const O=c.call(f,C),it=c.call(ut(f,mt),C),G=c.call(ut(f,gt),C),S=f.y*C+f.x;if(S<0||S>=m.length)return null;const x={x:m[S].offsetWidth,y:m[S].offsetHeight};return O&&it&&(x.x=it.x-O.x),O&&G&&(x.y=G.y-O.y),x}return null});function p(f){if(!g)if(v.isDragging())v.cancelDrag(),e(3,v);else{const C={x:f.clientX,y:f.clientY},O=Ot(C);O&&(v.setDragFrom(O,C),e(3,v))}}function M(f){if(g||!v.isDragging())return;const C={x:f.clientX,y:f.clientY};v.dragUpdate(C),e(3,v)}function A(f){if(g||!v.isDragging())return;const C={x:f.clientX,y:f.clientY},O=Ot(C);v.unsetDragFrom(O)&&e(9,o+=1),e(3,v),e(8,g=v.isSolved())}let v=new ve({tileCount:r,image:i,getGridSize:P.call,getSlotPos:c.call,getSlotSize:h.call});v.shuffle(Qt(te(s)));const tt=setInterval(()=>{document.hidden||e(10,u+=1)},1e3);function b(){P.clear(),c.clear(),h.clear(),e(3,v)}function nt(f){g||f.preventDefault()}ae(({cancel:f})=>{g||window.confirm("Puzzle state not saved, exit anyway?")||f()}),qt(()=>(e(3,v),e(8,g=v.isSolved()),e(11,a=v.rows),e(12,_=v.cols),window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b)}));function N(f,C){X[f?"unshift":"push"](()=>{m[C]=f,e(1,m)})}function _t(f){X[f?"unshift":"push"](()=>{D=f,e(2,D)})}return n.$$set=f=>{"tileCount"in f&&e(13,r=f.tileCount),"seed"in f&&e(14,s=f.seed),"image"in f&&e(15,i=f.image),"showBorders"in f&&e(0,l=f.showBorders),"actionCount"in f&&e(9,o=f.actionCount),"durationInSec"in f&&e(10,u=f.durationInSec),"rows"in f&&e(11,a=f.rows),"cols"in f&&e(12,_=f.cols),"isSolved"in f&&e(8,g=f.isSolved)},n.$$.update=()=>{n.$$.dirty&256&&g&&clearInterval(tt)},[l,m,D,v,p,M,A,nt,g,o,u,a,_,r,s,i,N,_t]}class De extends Bt{constructor(t){super(),zt(this,t,we,ke,Et,{tileCount:13,seed:14,image:15,showBorders:0,actionCount:9,durationInSec:10,rows:11,cols:12,isSolved:8})}}function ye(n){return{c:w,l:w,m:w,d:w}}function Se(n){return document.title=n[19].name+" - Picture slicer",{c:w,l:w,m:w,d:w}}function xe(n){return{c(){this.h()},l(t){this.h()},h(){document.title="Picture slicer"},m:w,d:w}}function Fe(n){return{c:w,l:w,m:w,p:w,d:w}}function Ce(n){let t,e=n[19].name+"",r;return{c(){t=R("div"),r=E(e),this.h()},l(s){t=L(s,"DIV",{class:!0});var i=q(t);r=B(i,e),i.forEach(k),this.h()},h(){I(t,"class","img-name svelte-11v2qtc")},m(s,i){T(s,t,i),F(t,r)},p:w,d(s){s&&k(t)}}}function Ie(n){return{c:w,l:w,m:w,p:w,d:w}}function Me(n){let t,e,r,s=`<a class="button" href="${$t+"/"}">Back</a>`,i={ctx:n,current:null,token:null,hasCatch:!1,pending:Ie,then:Ce,catch:Fe,value:19};return Dt(n[8],i),{c(){t=R("div"),i.block.c(),e=Y(),r=R("div"),r.innerHTML=s,this.h()},l(l){t=L(l,"DIV",{class:!0});var o=q(t);i.block.l(o),e=j(o),r=L(o,"DIV",{"data-svelte-h":!0}),Nt(r)!=="svelte-1eiwtb8"&&(r.innerHTML=s),o.forEach(k),this.h()},h(){I(t,"class","toolbar svelte-11v2qtc")},m(l,o){T(l,t,o),i.block.m(t,i.anchor=null),i.mount=()=>t,i.anchor=e,F(t,e),F(t,r)},p(l,o){n=l,Wt(i,n,o)},d(l){l&&k(t),i.block.d(),i.token=null,i=null}}}function Oe(n){let t,e;return t=new wt({props:{$$slots:{default:[Te]},$$scope:{ctx:n}}}),{c(){J(t.$$.fragment)},l(r){Z(t.$$.fragment,r)},m(r,s){K(t,r,s),e=!0},p(r,s){const i={};s&1048576&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){e||(H(t.$$.fragment,r),e=!0)},o(r){V(t.$$.fragment,r),e=!1},d(r){Q(t,r)}}}function Te(n){let t;return{c(){t=E("Failed to load image...")},l(e){t=B(e,"Failed to load image...")},m(e,r){T(e,t,r)},d(e){e&&k(t)}}}function Pe(n){let t,e;return t=new wt({props:{$$slots:{default:[Ee]},$$scope:{ctx:n}}}),{c(){J(t.$$.fragment)},l(r){Z(t.$$.fragment,r)},m(r,s){K(t,r,s),e=!0},p(r,s){const i={};s&1048639&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){e||(H(t.$$.fragment,r),e=!0)},o(r){V(t.$$.fragment,r),e=!1},d(r){Q(t,r)}}}function Tt(n){let t,e=`Solved âœ¨ <a href="${$t+"/"}">Play again</a>`;return{c(){t=R("div"),t.innerHTML=e},l(r){t=L(r,"DIV",{"data-svelte-h":!0}),Nt(t)!=="svelte-1gkzpfp"&&(t.innerHTML=e)},m(r,s){T(r,t,s)},d(r){r&&k(t)}}}function Pt(n){let t;return{c(){t=E("s")},l(e){t=B(e,"s")},m(e,r){T(e,t,r)},d(e){e&&k(t)}}}function Ee(n){let t,e,r,s,i,l,o,u,a,_,g,m,D,P,c,h,p,M,A=Math.floor(n[1]/60).toString().padStart(2,"0")+"",v,tt,b=(n[1]%60).toString().padStart(2,"0")+"",nt,N;function _t(d){n[11](d)}function f(d){n[12](d)}function C(d){n[13](d)}function O(d){n[14](d)}function it(d){n[15](d)}let G={showBorders:n[9],tileCount:n[6],seed:n[7],image:n[19]};n[2]!==void 0&&(G.rows=n[2]),n[3]!==void 0&&(G.cols=n[3]),n[0]!==void 0&&(G.actionCount=n[0]),n[4]!==void 0&&(G.isSolved=n[4]),n[1]!==void 0&&(G.durationInSec=n[1]),t=new De({props:G}),n[10](t),X.push(()=>lt(t,"rows",_t)),X.push(()=>lt(t,"cols",f)),X.push(()=>lt(t,"actionCount",C)),X.push(()=>lt(t,"isSolved",O)),X.push(()=>lt(t,"durationInSec",it));let S=n[4]&&Tt(),x=n[0]>1&&Pt();return{c(){J(t.$$.fragment),o=Y(),u=R("div"),a=R("div"),_=E(n[2]),g=E(" x "),m=E(n[3]),D=Y(),S&&S.c(),P=Y(),c=R("div"),h=E(n[0]),p=E(" move"),x&&x.c(),M=E(" | "),v=E(A),tt=E(":"),nt=E(b),this.h()},l(d){Z(t.$$.fragment,d),o=j(d),u=L(d,"DIV",{class:!0});var y=q(u);a=L(y,"DIV",{class:!0});var $=q(a);_=B($,n[2]),g=B($," x "),m=B($,n[3]),$.forEach(k),D=j(y),S&&S.l(y),P=j(y),c=L(y,"DIV",{class:!0});var U=q(c);h=B(U,n[0]),p=B(U," move"),x&&x.l(U),M=B(U," | "),v=B(U,A),tt=B(U,":"),nt=B(U,b),U.forEach(k),y.forEach(k),this.h()},h(){I(a,"class","muted svelte-11v2qtc"),I(c,"class","muted svelte-11v2qtc"),I(u,"class","toolbar svelte-11v2qtc")},m(d,y){K(t,d,y),T(d,o,y),T(d,u,y),F(u,a),F(a,_),F(a,g),F(a,m),F(u,D),S&&S.m(u,null),F(u,P),F(u,c),F(c,h),F(c,p),x&&x.m(c,null),F(c,M),F(c,v),F(c,tt),F(c,nt),N=!0},p(d,y){const $={};!e&&y&4&&(e=!0,$.rows=d[2],ot(()=>e=!1)),!r&&y&8&&(r=!0,$.cols=d[3],ot(()=>r=!1)),!s&&y&1&&(s=!0,$.actionCount=d[0],ot(()=>s=!1)),!i&&y&16&&(i=!0,$.isSolved=d[4],ot(()=>i=!1)),!l&&y&2&&(l=!0,$.durationInSec=d[1],ot(()=>l=!1)),t.$set($),(!N||y&4)&&at(_,d[2]),(!N||y&8)&&at(m,d[3]),d[4]?S||(S=Tt(),S.c(),S.m(u,P)):S&&(S.d(1),S=null),(!N||y&1)&&at(h,d[0]),d[0]>1?x||(x=Pt(),x.c(),x.m(c,M)):x&&(x.d(1),x=null),(!N||y&2)&&A!==(A=Math.floor(d[1]/60).toString().padStart(2,"0")+"")&&at(v,A),(!N||y&2)&&b!==(b=(d[1]%60).toString().padStart(2,"0")+"")&&at(nt,b)},i(d){N||(H(t.$$.fragment,d),N=!0)},o(d){V(t.$$.fragment,d),N=!1},d(d){d&&(k(o),k(u)),n[10](null),Q(t,d),S&&S.d(),x&&x.d()}}}function Be(n){let t,e;return t=new wt({props:{$$slots:{default:[ze]},$$scope:{ctx:n}}}),{c(){J(t.$$.fragment)},l(r){Z(t.$$.fragment,r)},m(r,s){K(t,r,s),e=!0},p(r,s){const i={};s&1048576&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){e||(H(t.$$.fragment,r),e=!0)},o(r){V(t.$$.fragment,r),e=!1},d(r){Q(t,r)}}}function ze(n){let t;return{c(){t=E("Loading image...")},l(e){t=B(e,"Loading image...")},m(e,r){T(e,t,r)},d(e){e&&k(t)}}}function Ne(n){let t,e,r={ctx:n,current:null,token:null,hasCatch:!0,pending:Be,then:Pe,catch:Oe,value:19,blocks:[,,,]};return Dt(n[8],r),{c(){t=dt(),r.block.c()},l(s){t=dt(),r.block.l(s)},m(s,i){T(s,t,i),r.block.m(s,r.anchor=i),r.mount=()=>t.parentNode,r.anchor=t,e=!0},p(s,i){n=s,Wt(r,n,i)},i(s){e||(H(r.block),e=!0)},o(s){for(let i=0;i<3;i+=1){const l=r.blocks[i];V(l)}e=!1},d(s){s&&k(t),r.block.d(s),r.token=null,r=null}}}function $e(n){let t,e,r,s,i,l;return t=new ie({props:{$$slots:{default:[Me]},$$scope:{ctx:n}}}),r=new oe({props:{$$slots:{default:[Ne]},$$scope:{ctx:n}}}),i=new le({}),{c(){J(t.$$.fragment),e=Y(),J(r.$$.fragment),s=Y(),J(i.$$.fragment)},l(o){Z(t.$$.fragment,o),e=j(o),Z(r.$$.fragment,o),s=j(o),Z(i.$$.fragment,o)},m(o,u){K(t,o,u),T(o,e,u),K(r,o,u),T(o,s,u),K(i,o,u),l=!0},p(o,u){const a={};u&1048576&&(a.$$scope={dirty:u,ctx:o}),t.$set(a);const _={};u&1048639&&(_.$$scope={dirty:u,ctx:o}),r.$set(_)},i(o){l||(H(t.$$.fragment,o),H(r.$$.fragment,o),H(i.$$.fragment,o),l=!0)},o(o){V(t.$$.fragment,o),V(r.$$.fragment,o),V(i.$$.fragment,o),l=!1},d(o){o&&(k(e),k(s)),Q(t,o),Q(r,o),Q(i,o)}}}function We(n){let t,e,r,s,i={ctx:n,current:null,token:null,hasCatch:!1,pending:xe,then:Se,catch:ye,value:19};return Dt(n[8],i),r=new ee({props:{maxWidth:"50rem",$$slots:{default:[$e]},$$scope:{ctx:n}}}),{c(){t=dt(),i.block.c(),e=Y(),J(r.$$.fragment)},l(l){const o=jt("svelte-1bxeki6",document.head);t=dt(),i.block.l(o),o.forEach(k),e=j(l),Z(r.$$.fragment,l)},m(l,o){F(document.head,t),i.block.m(document.head,i.anchor=null),i.mount=()=>t.parentNode,i.anchor=t,T(l,e,o),K(r,l,o),s=!0},p(l,[o]){n=l;const u={};o&1048639&&(u.$$scope={dirty:o,ctx:n}),r.$set(u)},i(l){s||(H(r.$$.fragment,l),s=!0)},o(l){V(r.$$.fragment,l),s=!1},d(l){l&&k(e),k(t),i.block.d(),i.token=null,i=null,Q(r,l)}}}function Re(n,t,e){let r;Ut(n,Jt,b=>e(16,r=b));const s=re(r.url),i=s.tileCount,l=s.seed,o=ne(s),u=se(o);let a,_,g,m,D,P,c;function h(b){X[b?"unshift":"push"](()=>{P=b,e(5,P)})}function p(b){g=b,e(2,g)}function M(b){m=b,e(3,m)}function A(b){a=b,e(0,a)}function v(b){D=b,e(4,D)}function tt(b){_=b,e(1,_)}return[a,_,g,m,D,P,i,l,u,c,h,p,M,A,v,tt]}class Xe extends Bt{constructor(t){super(),zt(this,t,Re,We,Et,{})}}export{Xe as component};
