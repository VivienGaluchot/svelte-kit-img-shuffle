var zt=Object.defineProperty;var Bt=(r,t,e)=>t in r?zt(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var W=(r,t,e)=>Bt(r,typeof t!="symbol"?t+"":t,e);import{x as Nt,y as Rt,p as nt,h as Wt,s as Ct,n as V,r as At,o as Lt,b as G,c as qt,z as Q}from"../chunks/scheduler.BSwsc0mK.js";import{A as Gt,p as ut,z as Vt,o as ct,S as It,i as Mt,e as H,s as et,c as U,a as Y,d as b,f as rt,w as O,C as E,g as z,h as M,x as ht,r as mt,l as Ht,t as P,b as T,k as Ot,m as Pt,n as Tt,q as Et,D as $,j as tt,v as Ut}from"../chunks/index.C1qLI6zZ.js";import{b as Xt}from"../chunks/paths.CUjZF5ry.js";import{p as Yt}from"../chunks/stores.BxE7tg7v.js";import{a as Jt,e as ot,u as _t,d as pt,s as jt,t as Zt,S as Kt}from"../chunks/image.CH8oFo4k.js";const Qt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function $t(r,t){const e=t.token={};function s(i,n,l,a){if(t.token!==e)return;t.resolved=a;let c=t.ctx;l!==void 0&&(c=c.slice(),c[l]=a);const o=i&&(t.current=i)(c);let m=!1;t.block&&(t.blocks?t.blocks.forEach((d,v)=>{v!==n&&d&&(Gt(),ut(d,1,1,()=>{t.blocks[v]===d&&(t.blocks[v]=null)}),Vt())}):t.block.d(1),o.c(),ct(o,1),o.m(t.mount(),t.anchor),m=!0),t.block=o,t.blocks&&(t.blocks[n]=o),m&&Wt()}if(Nt(r)){const i=Rt();if(r.then(n=>{nt(i),s(t.then,1,t.value,n),nt(null)},n=>{if(nt(i),s(t.catch,2,t.error,n),nt(null),!t.hasCatch)throw n}),t.current!==t.pending)return s(t.pending,0),!0}else{if(t.current!==t.then)return s(t.then,1,t.value,r),!0;t.resolved=r}}function te(r,t,e){const s=t.slice(),{resolved:i}=r;r.current===r.then&&(s[r.value]=i),r.current===r.catch&&(s[r.error]=i),r.block.p(s,e)}function st(r,t){return J(r,t,(e,s)=>e+s)}function X(r,t){return J(r,t,(e,s)=>e-s)}function wt(r,t){let e=r;return t.min&&(e=J(e,t.min,Math.max)),t.max&&(e=J(e,t.max,Math.min)),e}function ee(r,t){return J(r,t,(e,s)=>e/s)}function re(r,t){return J(r,t,Math.min)}function se(r,t){return J(r,t,Math.max)}function ie(r){return ne(r,Math.round)}function Z(r,t){return r.x==t.x&&r.y==t.y}function ne(r,t){return{x:t(r.x),y:t(r.y)}}function J(r,t,e){return{x:e(r.x,t.x),y:e(r.y,t.y)}}function ft(r){const t=new Map;return{call:(...e)=>{const s=JSON.stringify(e),i=t.get(s);if(i)return i;{const n=r(...e);return t.set(s,n),n}},clear:()=>{t.clear()}}}function oe(r){let t=r.length,e;for(;t!=0;)e=Math.floor(Math.random()*t),t--,[r[t],r[e]]=[r[e],r[t]]}class le{constructor(t,e,s){W(this,"matrix");W(this,"initial");W(this,"current");W(this,"drag");this.matrix=s,this.initial={x:t,y:e},this.current={x:t,y:e},this.drag={from:null,to:null}}get rows(){return this.matrix.rows}get cols(){return this.matrix.cols}get image(){return this.matrix.image}isDragFrom(){return this.drag.from!=null}isDragTo(){return this.drag.to!=null}originOrCurrent(){var t,e;return((t=this.drag.from)==null?void 0:t.originCurrent)??((e=this.drag.to)==null?void 0:e.originCurrent)??this.current}getNext(t){return this.matrix.tileByCurrent(st(this.current,t))}isAtInitial(){return Z(this.current,this.initial)}isOkWith(t){return Z(X(t.current,this.current),X(t.initial,this.initial))}isOkWithNext(t){const e=this.getNext(t);return e?e.isOkWith(this):!0}setDragFrom(t){if(this.drag.from!=null)throw new Error("setDragFrom: from already set");if(this.drag.to!=null)throw new Error("setDragFrom: to already set");if(!this.matrix.options.getSlotPos(this.current,this.cols))throw new Error("setDragFrom: slot not found");this.drag.from={originCurrent:this.current,originMouse:t,pullOffset:{x:0,y:0}}}updateDragFrom(t){if(this.drag.from==null)throw new Error("updateDragFrom: from unset");const e=X(t,this.drag.from.originMouse);this.drag.from.pullOffset=e}unsetDragFrom(){if(this.drag.from==null)throw new Error("unsetDragFrom: from unset");this.drag.from=null}setDragTo(){if(this.drag.from!=null)throw new Error("setDragTo: from already set");if(this.drag.to!=null)throw new Error("setDragTo: to already set");this.drag.to={originCurrent:this.current}}unsetDragTo(){if(this.drag.to==null)throw new Error("unsetDragTo: to unset");this.current=this.drag.to.originCurrent,this.drag.to=null}cancelDrag(){this.drag.from&&(this.current=this.drag.from.originCurrent,this.unsetDragFrom()),this.drag.to&&this.unsetDragTo()}style(){var l,a,c;const t=this.matrix.options.getGridSize(),e=this.matrix.options.getSlotPos(this.initial,this.cols);let s;this.isDragFrom()?s=this.originOrCurrent():s=this.current;const i=this.matrix.options.getSlotPos(s,this.cols),n=this.matrix.options.getSlotSize(s,this.cols);if(t&&e&&i&&n){let o={...e};o.x=Math.min(o.x,t.x-n.x),o.x=Math.max(o.x,0),o.x=o.x*-1,o.y=Math.min(o.y,t.y-n.y),o.y=Math.max(o.y,0),o.y=o.y*-1;const m=t;return`left: ${i.x+(((l=this.drag.from)==null?void 0:l.pullOffset.x)??0)}px; top: ${i.y+(((c=(a=this.drag.from)==null?void 0:a.pullOffset)==null?void 0:c.y)??0)}px; width: ${n.x}px; height: ${n.y}px;background-image: url(${this.image.url}); background-position: ${o.x}px ${o.y}px; background-size: ${m.x}px ${m.y}px ; `}}}function ae(r){const[t,...e]=r;if(t){const s={min:t.current,max:t.current};for(const i of e)s.min=re(s.min,i.current),s.max=se(s.max,i.current);return s}else return null}const gt={x:0,y:-1},lt={x:0,y:1},dt={x:-1,y:0},at={x:1,y:0},ue=[gt,lt,dt,at];class ce{constructor(t){W(this,"options");W(this,"rows");W(this,"cols");W(this,"matrix",[]);W(this,"bounds");W(this,"dragFrom",null);this.options=t;let e=Jt(t.image.size,t.tileCount);this.cols=e.x,this.rows=e.y,this.matrix=[];for(let s=0;s<this.rows;s++)for(let i=0;i<this.cols;i++)this.matrix.push(new le(i,s,this));this.bounds={min:{x:0,y:0},max:{x:this.cols-1,y:this.rows-1}}}get image(){return this.options.image}*tiles(){for(const t of this.matrix)yield t}tileGroup(t){const e=new Set;function s(i){if(!e.has(i)){e.add(i);for(const n of ue){const l=i.getNext(n);l&&i.isOkWith(l)&&s(l)}}}return s(t),e}tileByInitial(t){return this.isInRange(t)?this.matrix[t.y*this.cols+t.x]:null}isInRange(t){return t.x>=0&&t.x<this.cols&&t.y>=0&&t.y<this.rows}tileByCurrent(t){for(const e of this.matrix)if(Z(e.current,t))return e;return null}tileByOriginCurrent(t){for(const e of this.matrix)if(Z(e.originOrCurrent(),t))return e;return null}style(){return`aspect-ratio: ${this.image.size.x} / ${this.image.size.y}; grid-template-columns: repeat(${this.cols}, 1fr);`}shuffle(){const t=[...this.matrix.map(e=>({...e.current}))];oe(t);for(const e in this.matrix)this.matrix[e].current=t[e]}solveDrag(t,e){const s=[];if(e.x!=0||e.y!=0){const i=[];for(const n of t){const l=st(n.current,e);if(!this.isInRange(l))return[];i.push({pos:l,tile:n})}for(const{pos:n,tile:l}of i){s.push({tile:l,pos:n,isDragTo:!1});const a=this.tileByOriginCurrent(n);if(a&&!t.includes(a)){let c,o,m=l,d=0;do{c=m.originOrCurrent(),o=!0;for(const{pos:v,tile:D}of i)if(Z(v,c)){o=!1,m=D;break}if(d++,d>1e3)throw new Error("infinite loop")}while(!o);s.push({tile:a,pos:c,isDragTo:!0})}}}return s}isSolved(){for(const t of this.matrix)if(!t.isAtInitial())return!1;return!0}setDragFrom(t,e){const s=this.tileByOriginCurrent(t);if(s){const i=[...this.tileGroup(s)],n=ae(i);if(n==null)throw new Error("setDragFrom: boundingBox null");const l={min:X(this.bounds.min,n.min),max:X(this.bounds.max,n.max)};this.dragFrom={startClient:e,startPos:t,currentPos:t,tiles:i,dragActions:[],startOffsetBoundingBox:l},i.map(a=>a.setDragFrom(e))}}isDragging(){return this.dragFrom!=null}dragUpdate(t){var s;const e=this.options.getSlotSize(this.matrix[0].current,this.cols);if(e&&this.dragFrom){const i=X(t,this.dragFrom.startClient),n=wt(ie(ee(i,e)),this.dragFrom.startOffsetBoundingBox),l=wt(st(this.dragFrom.startPos,n),this.bounds),a=X(l,this.dragFrom.currentPos);this.dragFrom.currentPos=l;const c=this.solveDrag(this.dragFrom.tiles,a);c.length!=0&&(this.dragFrom.dragActions.map(o=>{o.isDragTo&&o.tile.unsetDragTo()}),this.dragFrom.dragActions=c,this.dragFrom.dragActions.map(o=>{o.isDragTo?o.tile.setDragTo():o.tile.updateDragFrom(t),o.tile.current=o.pos})),(s=this.dragFrom)==null||s.tiles.map(o=>{o.updateDragFrom(t)})}}unsetDragFrom(t){var s,i,n,l;let e;return t&&((s=this.dragFrom)!=null&&s.startPos)&&!Z((i=this.dragFrom)==null?void 0:i.startPos,t)?e=!0:e=!1,(n=this.dragFrom)==null||n.tiles.map(a=>a.unsetDragFrom()),(l=this.dragFrom)==null||l.dragActions.map(a=>{a.isDragTo&&a.tile.unsetDragTo(),a.tile.current=a.pos}),this.dragFrom=null,e}cancelDrag(){this.matrix.forEach(t=>t.cancelDrag()),this.dragFrom=null}}const{window:vt}=Qt;function kt(r,t,e){const s=r.slice();return s[22]=t[e],s}function bt(r,t,e){const s=r.slice();return s[22]=t[e],s[25]=t,s[26]=e,s}function xt(r,t){let e,s,i,n=t[26];const l=()=>t[15](e,n),a=()=>t[15](null,n);return{key:r,first:null,c(){e=H("div"),this.h()},l(c){e=U(c,"DIV",{class:!0,"data-pos-x":!0,"data-pos-y":!0}),Y(e).forEach(b),this.h()},h(){O(e,"class","slot svelte-411q9w"),O(e,"data-pos-x",s=t[22].initial.x),O(e,"data-pos-y",i=t[22].initial.y),this.first=e},m(c,o){z(c,e,o),l()},p(c,o){t=c,o&8&&s!==(s=t[22].initial.x)&&O(e,"data-pos-x",s),o&8&&i!==(i=t[22].initial.y)&&O(e,"data-pos-y",i),n!==t[26]&&(a(),n=t[26],l())},d(c){c&&b(e),a()}}}function yt(r,t){let e,s,i,n;return{key:r,first:null,c(){e=H("div"),this.h()},l(l){e=U(l,"DIV",{class:!0,style:!0}),Y(e).forEach(b),this.h()},h(){O(e,"class","tile svelte-411q9w"),O(e,"style",s=t[22].style()),E(e,"drag-from",t[22].isDragFrom()),E(e,"top-ok",t[22].isOkWithNext(gt)),E(e,"bottom-ok",t[22].isOkWithNext(lt)),E(e,"left-ok",t[22].isOkWithNext(dt)),E(e,"right-ok",t[22].isOkWithNext(at)),this.first=e},m(l,a){z(l,e,a),i||(n=ht(e,"mousedown",t[4]),i=!0)},p(l,a){t=l,a&8&&s!==(s=t[22].style())&&O(e,"style",s),a&8&&E(e,"drag-from",t[22].isDragFrom()),a&8&&E(e,"top-ok",t[22].isOkWithNext(gt)),a&8&&E(e,"bottom-ok",t[22].isOkWithNext(lt)),a&8&&E(e,"left-ok",t[22].isOkWithNext(dt)),a&8&&E(e,"right-ok",t[22].isOkWithNext(at))},d(l){l&&b(e),i=!1,n()}}}function fe(r){let t,e,s=[],i=new Map,n,l,a=[],c=new Map,o,m,d=ot([...r[3].tiles()]);const v=u=>u[22];for(let u=0;u<d.length;u+=1){let g=bt(r,d,u),p=v(g);i.set(p,s[u]=xt(p,g))}let D=ot([...r[3].tiles()]);const C=u=>u[22];for(let u=0;u<D.length;u+=1){let g=kt(r,D,u),p=C(g);c.set(p,a[u]=yt(p,g))}return{c(){t=H("div"),e=H("div");for(let u=0;u<s.length;u+=1)s[u].c();l=et();for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){t=U(u,"DIV",{class:!0});var g=Y(t);e=U(g,"DIV",{class:!0,style:!0});var p=Y(e);for(let S=0;S<s.length;S+=1)s[S].l(p);p.forEach(b),l=rt(g);for(let S=0;S<a.length;S+=1)a[S].l(g);g.forEach(b),this.h()},h(){O(e,"class","grid svelte-411q9w"),O(e,"style",n=r[3].style()),O(t,"class","stack svelte-411q9w"),E(t,"show-borders",r[0])},m(u,g){z(u,t,g),M(t,e);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(e,null);r[16](e),M(t,l);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(t,null);o||(m=[ht(vt,"mouseup",r[6]),ht(vt,"mousemove",r[5])],o=!0)},p(u,[g]){g&10&&(d=ot([...u[3].tiles()]),s=_t(s,g,v,1,u,d,i,e,pt,xt,null,bt)),g&8&&n!==(n=u[3].style())&&O(e,"style",n),g&24&&(D=ot([...u[3].tiles()]),a=_t(a,g,C,1,u,D,c,t,pt,yt,null,kt)),g&1&&E(t,"show-borders",u[0])},i:V,o:V,d(u){u&&b(t);for(let g=0;g<s.length;g+=1)s[g].d();r[16](null);for(let g=0;g<a.length;g+=1)a[g].d();o=!1,At(m)}}}function he(r){if(r.dataset.posX&&r.dataset.posY){const t=Number(r.dataset.posX),e=Number(r.dataset.posY);return{x:t,y:e}}else return null}function Dt(r){for(const t of document.elementsFromPoint(r.x,r.y))if(t instanceof HTMLElement){const e=he(t);if(e)return e}return null}function ge(r,t,e){let{tileCount:s}=t,{image:i}=t,{showBorders:n}=t,{actionCount:l=0}=t,{durationInSec:a=0}=t,{rows:c=0}=t,{cols:o=0}=t,{isSolved:m=!1}=t;const d=[];let v;const D=ft(()=>v?{x:v.offsetWidth,y:v.offsetHeight}:null),C=ft((f,y)=>{if(d.length>0){if(f.x>=y)return null;const F=f.y*y+f.x;if(F>=0&&F<d.length)return{x:d[F].offsetLeft,y:d[F].offsetTop}}return null}),u=ft((f,y)=>{if(d.length>0){const F=C.call(f,y),K=C.call(st(f,at),y),it=C.call(st(f,lt),y),N=f.y*y+f.x;if(N<0||N>=d.length)return null;const x={x:d[N].offsetWidth,y:d[N].offsetHeight};return F&&K&&(x.x=K.x-F.x),F&&it&&(x.y=it.y-F.y),x}return null});function g(f){if(!m)if(_.isDragging())_.cancelDrag(),e(3,_);else{const y={x:f.clientX,y:f.clientY},F=Dt(y);F&&(_.setDragFrom(F,y),e(3,_))}}function p(f){if(m||!_.isDragging())return;const y={x:f.clientX,y:f.clientY};_.dragUpdate(y),e(3,_)}function S(f){if(m||!_.isDragging())return;const y={x:f.clientX,y:f.clientY},F=Dt(y);_.unsetDragFrom(F)&&e(7,l+=1),e(3,_),e(11,m=_.isSolved())}let _=new ce({tileCount:s,image:i,getGridSize:D.call,getSlotPos:C.call,getSlotSize:u.call});_.shuffle();const L=setInterval(()=>{m&&clearInterval(L),document.hidden||e(8,a+=1)},1e3);function w(){_.shuffle(),e(3,_),e(11,m=_.isSolved())}function A(){D.clear(),C.clear(),u.clear(),e(3,_)}Lt(()=>(e(3,_),e(11,m=_.isSolved()),e(9,c=_.rows),e(10,o=_.cols),window.addEventListener("resize",A),()=>{window.removeEventListener("resize",A)}));function j(f,y){G[f?"unshift":"push"](()=>{d[y]=f,e(1,d)})}function B(f){G[f?"unshift":"push"](()=>{v=f,e(2,v)})}return r.$$set=f=>{"tileCount"in f&&e(12,s=f.tileCount),"image"in f&&e(13,i=f.image),"showBorders"in f&&e(0,n=f.showBorders),"actionCount"in f&&e(7,l=f.actionCount),"durationInSec"in f&&e(8,a=f.durationInSec),"rows"in f&&e(9,c=f.rows),"cols"in f&&e(10,o=f.cols),"isSolved"in f&&e(11,m=f.isSolved)},[n,d,v,_,g,p,S,l,a,c,o,m,s,i,w,j,B]}class de extends It{constructor(t){super(),Mt(this,t,ge,fe,Ct,{tileCount:12,image:13,showBorders:0,actionCount:7,durationInSec:8,rows:9,cols:10,isSolved:11,shuffle:14})}get shuffle(){return this.$$.ctx[14]}}function me(r){let t=(console.error(r[19])??"")+"",e,s;return{c(){e=P(t),s=P(`
	Failed to load image`)},l(i){e=T(i,t),s=T(i,`
	Failed to load image`)},m(i,n){z(i,e,n),z(i,s,n)},p:V,i:V,o:V,d(i){i&&(b(e),b(s))}}}function _e(r){let t,e;return t=new Kt({props:{$$slots:{default:[pe]},$$scope:{ctx:r}}}),{c(){Ot(t.$$.fragment)},l(s){Pt(t.$$.fragment,s)},m(s,i){Tt(t,s,i),e=!0},p(s,i){const n={};i&1048639&&(n.$$scope={dirty:i,ctx:s}),t.$set(n)},i(s){e||(ct(t.$$.fragment,s),e=!0)},o(s){ut(t.$$.fragment,s),e=!1},d(s){Et(t,s)}}}function St(r){let t,e=`Solved âœ¨ <a href="${Xt+"/"}">Play again</a>`;return{c(){t=H("div"),t.innerHTML=e},l(s){t=U(s,"DIV",{"data-svelte-h":!0}),Ut(t)!=="svelte-1gkzpfp"&&(t.innerHTML=e)},m(s,i){z(s,t,i)},d(s){s&&b(t)}}}function Ft(r){let t;return{c(){t=P("s")},l(e){t=T(e,"s")},m(e,s){z(e,t,s)},d(e){e&&b(t)}}}function pe(r){let t,e,s,i,n,l,a,c,o,m,d,v,D,C,u,g,p,S,_=Math.floor(r[1]/60).toString().padStart(2,"0")+"",L,w,A=(r[1]%60).toString().padStart(2,"0")+"",j,B;function f(h){r[10](h)}function y(h){r[11](h)}function F(h){r[12](h)}function K(h){r[13](h)}function it(h){r[14](h)}let N={showBorders:r[8],tileCount:r[6],image:r[18]};r[2]!==void 0&&(N.rows=r[2]),r[3]!==void 0&&(N.cols=r[3]),r[0]!==void 0&&(N.actionCount=r[0]),r[4]!==void 0&&(N.isSolved=r[4]),r[1]!==void 0&&(N.durationInSec=r[1]),t=new de({props:N}),r[9](t),G.push(()=>$(t,"rows",f)),G.push(()=>$(t,"cols",y)),G.push(()=>$(t,"actionCount",F)),G.push(()=>$(t,"isSolved",K)),G.push(()=>$(t,"durationInSec",it));let x=r[4]&&St(),I=r[0]>1&&Ft();return{c(){Ot(t.$$.fragment),a=et(),c=H("div"),o=H("div"),m=P(r[2]),d=P(" x "),v=P(r[3]),D=et(),x&&x.c(),C=et(),u=H("div"),g=P(r[0]),p=P(" move"),I&&I.c(),S=P(" | "),L=P(_),w=P(":"),j=P(A),this.h()},l(h){Pt(t.$$.fragment,h),a=rt(h),c=U(h,"DIV",{class:!0});var k=Y(c);o=U(k,"DIV",{class:!0});var R=Y(o);m=T(R,r[2]),d=T(R," x "),v=T(R,r[3]),R.forEach(b),D=rt(k),x&&x.l(k),C=rt(k),u=U(k,"DIV",{class:!0});var q=Y(u);g=T(q,r[0]),p=T(q," move"),I&&I.l(q),S=T(q," | "),L=T(q,_),w=T(q,":"),j=T(q,A),q.forEach(b),k.forEach(b),this.h()},h(){O(o,"class","muted svelte-cx25hv"),O(u,"class","muted svelte-cx25hv"),O(c,"class","toolbar svelte-cx25hv")},m(h,k){Tt(t,h,k),z(h,a,k),z(h,c,k),M(c,o),M(o,m),M(o,d),M(o,v),M(c,D),x&&x.m(c,null),M(c,C),M(c,u),M(u,g),M(u,p),I&&I.m(u,null),M(u,S),M(u,L),M(u,w),M(u,j),B=!0},p(h,k){const R={};!e&&k&4&&(e=!0,R.rows=h[2],Q(()=>e=!1)),!s&&k&8&&(s=!0,R.cols=h[3],Q(()=>s=!1)),!i&&k&1&&(i=!0,R.actionCount=h[0],Q(()=>i=!1)),!n&&k&16&&(n=!0,R.isSolved=h[4],Q(()=>n=!1)),!l&&k&2&&(l=!0,R.durationInSec=h[1],Q(()=>l=!1)),t.$set(R),(!B||k&4)&&tt(m,h[2]),(!B||k&8)&&tt(v,h[3]),h[4]?x||(x=St(),x.c(),x.m(c,C)):x&&(x.d(1),x=null),(!B||k&1)&&tt(g,h[0]),h[0]>1?I||(I=Ft(),I.c(),I.m(u,S)):I&&(I.d(1),I=null),(!B||k&2)&&_!==(_=Math.floor(h[1]/60).toString().padStart(2,"0")+"")&&tt(L,_),(!B||k&2)&&A!==(A=(h[1]%60).toString().padStart(2,"0")+"")&&tt(j,A)},i(h){B||(ct(t.$$.fragment,h),B=!0)},o(h){ut(t.$$.fragment,h),B=!1},d(h){h&&(b(a),b(c)),r[9](null),Et(t,h),x&&x.d(),I&&I.d()}}}function we(r){let t;return{c(){t=P("Loading image...")},l(e){t=T(e,"Loading image...")},m(e,s){z(e,t,s)},p:V,i:V,o:V,d(e){e&&b(t)}}}function ve(r){let t,e,s,i={ctx:r,current:null,token:null,hasCatch:!0,pending:we,then:_e,catch:me,value:18,error:19,blocks:[,,,]};return $t(r[7],i),{c(){t=et(),e=mt(),i.block.c(),this.h()},l(n){Ht("svelte-66crdv",document.head).forEach(b),t=rt(n),e=mt(),i.block.l(n),this.h()},h(){document.title="Play - Picture slicer"},m(n,l){z(n,t,l),z(n,e,l),i.block.m(n,i.anchor=l),i.mount=()=>e.parentNode,i.anchor=e,s=!0},p(n,[l]){r=n,te(i,r,l)},i(n){s||(ct(i.block),s=!0)},o(n){for(let l=0;l<3;l+=1){const a=i.blocks[l];ut(a)}s=!1},d(n){n&&(b(t),b(e)),i.block.d(n),i.token=null,i=null}}}function ke(r,t,e){let s;qt(r,Yt,w=>e(15,s=w));function i(){try{const w=s.url.searchParams.get("i");if(!w)throw new Error("missing 'i' url parameter");return JSON.parse(decodeURIComponent(w))}catch(w){console.error("failed to parse url image",w)}return null}const n=parseInt(s.url.searchParams.get("n")??"100"),l=i()??jt[0],a=Zt(l);let c,o,m,d,v,D,C;function u(w){G[w?"unshift":"push"](()=>{D=w,e(5,D)})}function g(w){m=w,e(2,m)}function p(w){d=w,e(3,d)}function S(w){c=w,e(0,c)}function _(w){v=w,e(4,v)}function L(w){o=w,e(1,o)}return[c,o,m,d,v,D,n,a,C,u,g,p,S,_,L]}class Ce extends It{constructor(t){super(),Mt(this,t,ke,ve,Ct,{})}}export{Ce as component};
