var Rt=Object.defineProperty;var Lt=(n,t,e)=>t in n?Rt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var R=(n,t,e)=>Lt(n,typeof t!="symbol"?t+"":t,e);import{x as Vt,y as Ht,p as ft,h as At,s as Et,n as w,r as qt,o as Gt,e as Y,c as Ut,z as it}from"../chunks/scheduler.BQAbF66X.js";import{r as Xt,m as H,o as Yt,l as A,S as Bt,i as zt,e as L,s as J,c as V,a as G,d as k,f as j,p as C,C as z,g as T,h as S,B as pt,n as gt,v as Z,k as Jt,w as K,x as Q,y as tt,A as $t,t as E,b as B,D as lt,j as at}from"../chunks/index.l2PWj1v_.js";import{b as Nt}from"../chunks/paths.Bif0m1Mf.js";import{p as jt}from"../chunks/stores.CQB_QglT.js";import{b as Zt,e as ht,u as Dt,d as xt,C as Kt,s as Qt,t as te,H as ee,a as re,F as ne,S as bt}from"../chunks/content.B-1a-dId.js";const se=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function wt(n,t){const e=t.token={};function r(s,o,l,i){if(t.token!==e)return;t.resolved=i;let u=t.ctx;l!==void 0&&(u=u.slice(),u[l]=i);const a=s&&(t.current=s)(u);let m=!1;t.block&&(t.blocks?t.blocks.forEach((d,b)=>{b!==o&&d&&(Xt(),H(d,1,1,()=>{t.blocks[b]===d&&(t.blocks[b]=null)}),Yt())}):t.block.d(1),a.c(),A(a,1),a.m(t.mount(),t.anchor),m=!0),t.block=a,t.blocks&&(t.blocks[o]=a),m&&At()}if(Vt(n)){const s=Ht();if(n.then(o=>{ft(s),r(t.then,1,t.value,o),ft(null)},o=>{if(ft(s),r(t.catch,2,t.error,o),ft(null),!t.hasCatch)throw o}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,n),!0;t.resolved=n}}function Wt(n,t,e){const r=t.slice(),{resolved:s}=n;n.current===n.then&&(r[n.value]=s),n.current===n.catch&&(r[n.error]=s),n.block.p(r,e)}function ut(n,t){return rt(n,t,(e,r)=>e+r)}function et(n,t){return rt(n,t,(e,r)=>e-r)}function St(n,t){let e=n;return t.min&&(e=rt(e,t.min,Math.max)),t.max&&(e=rt(e,t.max,Math.min)),e}function oe(n,t){return rt(n,t,(e,r)=>e/r)}function ie(n,t){return rt(n,t,Math.min)}function le(n,t){return rt(n,t,Math.max)}function ae(n){return ue(n,Math.round)}function st(n,t){return n.x==t.x&&n.y==t.y}function ue(n,t){return{x:t(n.x),y:t(n.y)}}function rt(n,t,e){return{x:e(n.x,t.x),y:e(n.y,t.y)}}function _t(n){const t=new Map;return{call:(...e)=>{const r=JSON.stringify(e),s=t.get(r);if(s)return s;{const o=n(...e);return t.set(r,o),o}},clear:()=>{t.clear()}}}function ce(n){let t=n.length,e;for(;t!=0;)e=Math.floor(Math.random()*t),t--,[n[t],n[e]]=[n[e],n[t]]}class fe{constructor(t,e,r){R(this,"matrix");R(this,"initial");R(this,"current");R(this,"drag");this.matrix=r,this.initial={x:t,y:e},this.current={x:t,y:e},this.drag={from:null,to:null}}get rows(){return this.matrix.rows}get cols(){return this.matrix.cols}get image(){return this.matrix.image}isDragFrom(){return this.drag.from!=null}isDragTo(){return this.drag.to!=null}originOrCurrent(){var t,e;return((t=this.drag.from)==null?void 0:t.originCurrent)??((e=this.drag.to)==null?void 0:e.originCurrent)??this.current}getNext(t){return this.matrix.tileByCurrent(ut(this.current,t))}isAtInitial(){return st(this.current,this.initial)}isOkWith(t){return st(et(t.current,this.current),et(t.initial,this.initial))}isOkWithNext(t){const e=this.getNext(t);return e?e.isOkWith(this):!0}setDragFrom(t){if(this.drag.from!=null)throw new Error("setDragFrom: from already set");if(this.drag.to!=null)throw new Error("setDragFrom: to already set");if(!this.matrix.options.getSlotPos(this.current,this.cols))throw new Error("setDragFrom: slot not found");this.drag.from={originCurrent:this.current,originMouse:t,pullOffset:{x:0,y:0}}}updateDragFrom(t){if(this.drag.from==null)throw new Error("updateDragFrom: from unset");const e=et(t,this.drag.from.originMouse);this.drag.from.pullOffset=e}unsetDragFrom(){if(this.drag.from==null)throw new Error("unsetDragFrom: from unset");this.drag.from=null}setDragTo(){if(this.drag.from!=null)throw new Error("setDragTo: from already set");if(this.drag.to!=null)throw new Error("setDragTo: to already set");this.drag.to={originCurrent:this.current}}unsetDragTo(){if(this.drag.to==null)throw new Error("unsetDragTo: to unset");this.current=this.drag.to.originCurrent,this.drag.to=null}cancelDrag(){this.drag.from&&(this.current=this.drag.from.originCurrent,this.unsetDragFrom()),this.drag.to&&this.unsetDragTo()}style(){var l,i,u;const t=this.matrix.options.getGridSize(),e=this.matrix.options.getSlotPos(this.initial,this.cols);let r;this.isDragFrom()?r=this.originOrCurrent():r=this.current;const s=this.matrix.options.getSlotPos(r,this.cols),o=this.matrix.options.getSlotSize(r,this.cols);if(t&&e&&s&&o){let a={...e};a.x=Math.min(a.x,t.x-o.x),a.x=Math.max(a.x,0),a.x=a.x*-1,a.y=Math.min(a.y,t.y-o.y),a.y=Math.max(a.y,0),a.y=a.y*-1;const m=t;return`left: ${s.x+(((l=this.drag.from)==null?void 0:l.pullOffset.x)??0)}px; top: ${s.y+(((u=(i=this.drag.from)==null?void 0:i.pullOffset)==null?void 0:u.y)??0)}px; width: ${o.x}px; height: ${o.y}px;background-image: url(${this.image.url}); background-position: ${a.x}px ${a.y}px; background-size: ${m.x}px ${m.y}px ; `}}}function he(n){const[t,...e]=n;if(t){const r={min:t.current,max:t.current};for(const s of e)r.min=ie(r.min,s.current),r.max=le(r.max,s.current);return r}else return null}const kt={x:0,y:-1},mt={x:0,y:1},vt={x:-1,y:0},dt={x:1,y:0},ge=[kt,mt,vt,dt];class me{constructor(t){R(this,"options");R(this,"rows");R(this,"cols");R(this,"matrix",[]);R(this,"bounds");R(this,"dragFrom",null);this.options=t;let e=Zt(t.image.size,t.tileCount);this.cols=e.x,this.rows=e.y,this.matrix=[];for(let r=0;r<this.rows;r++)for(let s=0;s<this.cols;s++)this.matrix.push(new fe(s,r,this));this.bounds={min:{x:0,y:0},max:{x:this.cols-1,y:this.rows-1}}}get image(){return this.options.image}*tiles(){for(const t of this.matrix)yield t}tileGroup(t){const e=new Set;function r(s){if(!e.has(s)){e.add(s);for(const o of ge){const l=s.getNext(o);l&&s.isOkWith(l)&&r(l)}}}return r(t),e}tileByInitial(t){return this.isInRange(t)?this.matrix[t.y*this.cols+t.x]:null}isInRange(t){return t.x>=0&&t.x<this.cols&&t.y>=0&&t.y<this.rows}tileByCurrent(t){for(const e of this.matrix)if(st(e.current,t))return e;return null}tileByOriginCurrent(t){for(const e of this.matrix)if(st(e.originOrCurrent(),t))return e;return null}style(){return`aspect-ratio: ${this.image.size.x} / ${this.image.size.y}; grid-template-columns: repeat(${this.cols}, 1fr);`}shuffle(){const t=[...this.matrix.map(e=>({...e.current}))];ce(t);for(const e in this.matrix)this.matrix[e].current=t[e]}solveDrag(t,e){const r=[];if(e.x!=0||e.y!=0){const s=[];for(const o of t){const l=ut(o.current,e);if(!this.isInRange(l))return[];s.push({pos:l,tile:o})}for(const{pos:o,tile:l}of s){r.push({tile:l,pos:o,isDragTo:!1});const i=this.tileByOriginCurrent(o);if(i&&!t.includes(i)){let u,a,m=l,d=0;do{u=m.originOrCurrent(),a=!0;for(const{pos:b,tile:F}of s)if(st(b,u)){a=!1,m=F;break}if(d++,d>1e3)throw new Error("infinite loop")}while(!a);r.push({tile:i,pos:u,isDragTo:!0})}}}return r}isSolved(){for(const t of this.matrix)if(!t.isAtInitial())return!1;return!0}setDragFrom(t,e){const r=this.tileByOriginCurrent(t);if(r){const s=[...this.tileGroup(r)],o=he(s);if(o==null)throw new Error("setDragFrom: boundingBox null");const l={min:et(this.bounds.min,o.min),max:et(this.bounds.max,o.max)};this.dragFrom={startClient:e,startPos:t,currentPos:t,tiles:s,dragActions:[],startOffsetBoundingBox:l},s.map(i=>i.setDragFrom(e))}}isDragging(){return this.dragFrom!=null}dragUpdate(t){var r;const e=this.options.getSlotSize(this.matrix[0].current,this.cols);if(e&&this.dragFrom){const s=et(t,this.dragFrom.startClient),o=St(ae(oe(s,e)),this.dragFrom.startOffsetBoundingBox),l=St(ut(this.dragFrom.startPos,o),this.bounds),i=et(l,this.dragFrom.currentPos);this.dragFrom.currentPos=l;const u=this.solveDrag(this.dragFrom.tiles,i);u.length!=0&&(this.dragFrom.dragActions.map(a=>{a.isDragTo&&a.tile.unsetDragTo()}),this.dragFrom.dragActions=u,this.dragFrom.dragActions.map(a=>{a.isDragTo?a.tile.setDragTo():a.tile.updateDragFrom(t),a.tile.current=a.pos})),(r=this.dragFrom)==null||r.tiles.map(a=>{a.updateDragFrom(t)})}}unsetDragFrom(t){var r,s,o,l;let e;return t&&((r=this.dragFrom)!=null&&r.startPos)&&!st((s=this.dragFrom)==null?void 0:s.startPos,t)?e=!0:e=!1,(o=this.dragFrom)==null||o.tiles.map(i=>i.unsetDragFrom()),(l=this.dragFrom)==null||l.dragActions.map(i=>{i.isDragTo&&i.tile.unsetDragTo(),i.tile.current=i.pos}),this.dragFrom=null,e}cancelDrag(){this.matrix.forEach(t=>t.cancelDrag()),this.dragFrom=null}}const{window:yt}=se;function Ft(n,t,e){const r=n.slice();return r[22]=t[e],r}function Ct(n,t,e){const r=n.slice();return r[22]=t[e],r[25]=t,r[26]=e,r}function It(n,t){let e,r,s,o=t[26];const l=()=>t[15](e,o),i=()=>t[15](null,o);return{key:n,first:null,c(){e=L("div"),this.h()},l(u){e=V(u,"DIV",{class:!0,"data-pos-x":!0,"data-pos-y":!0}),G(e).forEach(k),this.h()},h(){C(e,"class","slot svelte-e3hsms"),C(e,"data-pos-x",r=t[22].initial.x),C(e,"data-pos-y",s=t[22].initial.y),this.first=e},m(u,a){T(u,e,a),l()},p(u,a){t=u,a&8&&r!==(r=t[22].initial.x)&&C(e,"data-pos-x",r),a&8&&s!==(s=t[22].initial.y)&&C(e,"data-pos-y",s),o!==t[26]&&(i(),o=t[26],l())},d(u){u&&k(e),i()}}}function Mt(n,t){let e,r,s,o;return{key:n,first:null,c(){e=L("div"),this.h()},l(l){e=V(l,"DIV",{class:!0,style:!0}),G(e).forEach(k),this.h()},h(){C(e,"class","tile svelte-e3hsms"),C(e,"style",r=t[22].style()),z(e,"drag-from",t[22].isDragFrom()),z(e,"top-ok",t[22].isOkWithNext(kt)),z(e,"bottom-ok",t[22].isOkWithNext(mt)),z(e,"left-ok",t[22].isOkWithNext(vt)),z(e,"right-ok",t[22].isOkWithNext(dt)),this.first=e},m(l,i){T(l,e,i),s||(o=pt(e,"mousedown",t[4]),s=!0)},p(l,i){t=l,i&8&&r!==(r=t[22].style())&&C(e,"style",r),i&8&&z(e,"drag-from",t[22].isDragFrom()),i&8&&z(e,"top-ok",t[22].isOkWithNext(kt)),i&8&&z(e,"bottom-ok",t[22].isOkWithNext(mt)),i&8&&z(e,"left-ok",t[22].isOkWithNext(vt)),i&8&&z(e,"right-ok",t[22].isOkWithNext(dt))},d(l){l&&k(e),s=!1,o()}}}function de(n){let t,e,r=[],s=new Map,o,l,i=[],u=new Map,a,m,d=ht([...n[3].tiles()]);const b=c=>c[22];for(let c=0;c<d.length;c+=1){let g=Ct(n,d,c),p=b(g);s.set(p,r[c]=It(p,g))}let F=ht([...n[3].tiles()]);const O=c=>c[22];for(let c=0;c<F.length;c+=1){let g=Ft(n,F,c),p=O(g);u.set(p,i[c]=Mt(p,g))}return{c(){t=L("div"),e=L("div");for(let c=0;c<r.length;c+=1)r[c].c();l=J();for(let c=0;c<i.length;c+=1)i[c].c();this.h()},l(c){t=V(c,"DIV",{class:!0});var g=G(t);e=V(g,"DIV",{class:!0,style:!0});var p=G(e);for(let I=0;I<r.length;I+=1)r[I].l(p);p.forEach(k),l=j(g);for(let I=0;I<i.length;I+=1)i[I].l(g);g.forEach(k),this.h()},h(){C(e,"class","grid svelte-e3hsms"),C(e,"style",o=n[3].style()),C(t,"class","stack svelte-e3hsms"),z(t,"show-borders",n[0])},m(c,g){T(c,t,g),S(t,e);for(let p=0;p<r.length;p+=1)r[p]&&r[p].m(e,null);n[16](e),S(t,l);for(let p=0;p<i.length;p+=1)i[p]&&i[p].m(t,null);a||(m=[pt(yt,"mouseup",n[6]),pt(yt,"mousemove",n[5])],a=!0)},p(c,[g]){g&10&&(d=ht([...c[3].tiles()]),r=Dt(r,g,b,1,c,d,s,e,xt,It,null,Ct)),g&8&&o!==(o=c[3].style())&&C(e,"style",o),g&24&&(F=ht([...c[3].tiles()]),i=Dt(i,g,O,1,c,F,u,t,xt,Mt,null,Ft)),g&1&&z(t,"show-borders",c[0])},i:w,o:w,d(c){c&&k(t);for(let g=0;g<r.length;g+=1)r[g].d();n[16](null);for(let g=0;g<i.length;g+=1)i[g].d();a=!1,qt(m)}}}function _e(n){if(n.dataset.posX&&n.dataset.posY){const t=Number(n.dataset.posX),e=Number(n.dataset.posY);return{x:t,y:e}}else return null}function Ot(n){for(const t of document.elementsFromPoint(n.x,n.y))if(t instanceof HTMLElement){const e=_e(t);if(e)return e}return null}function pe(n,t,e){let{tileCount:r}=t,{image:s}=t,{showBorders:o}=t,{actionCount:l=0}=t,{durationInSec:i=0}=t,{rows:u=0}=t,{cols:a=0}=t,{isSolved:m=!1}=t;const d=[];let b;const F=_t(()=>b?{x:b.offsetWidth,y:b.offsetHeight}:null),O=_t((f,y)=>{if(d.length>0){if(f.x>=y)return null;const M=f.y*y+f.x;if(M>=0&&M<d.length)return{x:d[M].offsetLeft,y:d[M].offsetTop}}return null}),c=_t((f,y)=>{if(d.length>0){const M=O.call(f,y),ot=O.call(ut(f,dt),y),ct=O.call(ut(f,mt),y),N=f.y*y+f.x;if(N<0||N>=d.length)return null;const x={x:d[N].offsetWidth,y:d[N].offsetHeight};return M&&ot&&(x.x=ot.x-M.x),M&&ct&&(x.y=ct.y-M.y),x}return null});function g(f){if(!m)if(_.isDragging())_.cancelDrag(),e(3,_);else{const y={x:f.clientX,y:f.clientY},M=Ot(y);M&&(_.setDragFrom(M,y),e(3,_))}}function p(f){if(m||!_.isDragging())return;const y={x:f.clientX,y:f.clientY};_.dragUpdate(y),e(3,_)}function I(f){if(m||!_.isDragging())return;const y={x:f.clientX,y:f.clientY},M=Ot(y);_.unsetDragFrom(M)&&e(7,l+=1),e(3,_),e(11,m=_.isSolved())}let _=new me({tileCount:r,image:s,getGridSize:F.call,getSlotPos:O.call,getSlotSize:c.call});_.shuffle();const U=setInterval(()=>{m&&clearInterval(U),document.hidden||e(8,i+=1)},1e3);function v(){_.shuffle(),e(3,_),e(11,m=_.isSolved())}function q(){F.clear(),O.clear(),c.clear(),e(3,_)}Gt(()=>(e(3,_),e(11,m=_.isSolved()),e(9,u=_.rows),e(10,a=_.cols),window.addEventListener("resize",q),()=>{window.removeEventListener("resize",q)}));function nt(f,y){Y[f?"unshift":"push"](()=>{d[y]=f,e(1,d)})}function $(f){Y[f?"unshift":"push"](()=>{b=f,e(2,b)})}return n.$$set=f=>{"tileCount"in f&&e(12,r=f.tileCount),"image"in f&&e(13,s=f.image),"showBorders"in f&&e(0,o=f.showBorders),"actionCount"in f&&e(7,l=f.actionCount),"durationInSec"in f&&e(8,i=f.durationInSec),"rows"in f&&e(9,u=f.rows),"cols"in f&&e(10,a=f.cols),"isSolved"in f&&e(11,m=f.isSolved)},[o,d,b,_,g,p,I,l,i,u,a,m,r,s,v,nt,$]}class ke extends Bt{constructor(t){super(),zt(this,t,pe,de,Et,{tileCount:12,image:13,showBorders:0,actionCount:7,durationInSec:8,rows:9,cols:10,isSolved:11,shuffle:14})}get shuffle(){return this.$$.ctx[14]}}function ve(n){return{c:w,l:w,m:w,d:w}}function be(n){return document.title=n[18].name+" - Picture slicer",{c:w,l:w,m:w,d:w}}function we(n){return{c(){this.h()},l(t){this.h()},h(){document.title="Picture slicer"},m:w,d:w}}function De(n){return{c:w,l:w,m:w,p:w,d:w}}function xe(n){let t,e=n[18].name+"",r;return{c(){t=L("div"),r=E(e),this.h()},l(s){t=V(s,"DIV",{class:!0});var o=G(t);r=B(o,e),o.forEach(k),this.h()},h(){C(t,"class","img-name svelte-11v2qtc")},m(s,o){T(s,t,o),S(t,r)},p:w,d(s){s&&k(t)}}}function Se(n){return{c:w,l:w,m:w,p:w,d:w}}function ye(n){let t,e,r,s=`<a class="button" href="${Nt+"/"}">Back</a>`,o={ctx:n,current:null,token:null,hasCatch:!1,pending:Se,then:xe,catch:De,value:18};return wt(n[7],o),{c(){t=L("div"),o.block.c(),e=J(),r=L("div"),r.innerHTML=s,this.h()},l(l){t=V(l,"DIV",{class:!0});var i=G(t);o.block.l(i),e=j(i),r=V(i,"DIV",{"data-svelte-h":!0}),$t(r)!=="svelte-1eiwtb8"&&(r.innerHTML=s),i.forEach(k),this.h()},h(){C(t,"class","toolbar svelte-11v2qtc")},m(l,i){T(l,t,i),o.block.m(t,o.anchor=null),o.mount=()=>t,o.anchor=e,S(t,e),S(t,r)},p(l,i){n=l,Wt(o,n,i)},d(l){l&&k(t),o.block.d(),o.token=null,o=null}}}function Fe(n){let t,e;return t=new bt({props:{$$slots:{default:[Ce]},$$scope:{ctx:n}}}),{c(){Z(t.$$.fragment)},l(r){K(t.$$.fragment,r)},m(r,s){Q(t,r,s),e=!0},p(r,s){const o={};s&524288&&(o.$$scope={dirty:s,ctx:r}),t.$set(o)},i(r){e||(A(t.$$.fragment,r),e=!0)},o(r){H(t.$$.fragment,r),e=!1},d(r){tt(t,r)}}}function Ce(n){let t;return{c(){t=E("Failed to load image...")},l(e){t=B(e,"Failed to load image...")},m(e,r){T(e,t,r)},d(e){e&&k(t)}}}function Ie(n){let t,e;return t=new bt({props:{$$slots:{default:[Me]},$$scope:{ctx:n}}}),{c(){Z(t.$$.fragment)},l(r){K(t.$$.fragment,r)},m(r,s){Q(t,r,s),e=!0},p(r,s){const o={};s&524351&&(o.$$scope={dirty:s,ctx:r}),t.$set(o)},i(r){e||(A(t.$$.fragment,r),e=!0)},o(r){H(t.$$.fragment,r),e=!1},d(r){tt(t,r)}}}function Pt(n){let t,e=`Solved âœ¨ <a href="${Nt+"/"}">Play again</a>`;return{c(){t=L("div"),t.innerHTML=e},l(r){t=V(r,"DIV",{"data-svelte-h":!0}),$t(t)!=="svelte-1gkzpfp"&&(t.innerHTML=e)},m(r,s){T(r,t,s)},d(r){r&&k(t)}}}function Tt(n){let t;return{c(){t=E("s")},l(e){t=B(e,"s")},m(e,r){T(e,t,r)},d(e){e&&k(t)}}}function Me(n){let t,e,r,s,o,l,i,u,a,m,d,b,F,O,c,g,p,I,_=Math.floor(n[1]/60).toString().padStart(2,"0")+"",U,v,q=(n[1]%60).toString().padStart(2,"0")+"",nt,$;function f(h){n[10](h)}function y(h){n[11](h)}function M(h){n[12](h)}function ot(h){n[13](h)}function ct(h){n[14](h)}let N={showBorders:n[8],tileCount:n[6],image:n[18]};n[2]!==void 0&&(N.rows=n[2]),n[3]!==void 0&&(N.cols=n[3]),n[0]!==void 0&&(N.actionCount=n[0]),n[4]!==void 0&&(N.isSolved=n[4]),n[1]!==void 0&&(N.durationInSec=n[1]),t=new ke({props:N}),n[9](t),Y.push(()=>lt(t,"rows",f)),Y.push(()=>lt(t,"cols",y)),Y.push(()=>lt(t,"actionCount",M)),Y.push(()=>lt(t,"isSolved",ot)),Y.push(()=>lt(t,"durationInSec",ct));let x=n[4]&&Pt(),P=n[0]>1&&Tt();return{c(){Z(t.$$.fragment),i=J(),u=L("div"),a=L("div"),m=E(n[2]),d=E(" x "),b=E(n[3]),F=J(),x&&x.c(),O=J(),c=L("div"),g=E(n[0]),p=E(" move"),P&&P.c(),I=E(" | "),U=E(_),v=E(":"),nt=E(q),this.h()},l(h){K(t.$$.fragment,h),i=j(h),u=V(h,"DIV",{class:!0});var D=G(u);a=V(D,"DIV",{class:!0});var W=G(a);m=B(W,n[2]),d=B(W," x "),b=B(W,n[3]),W.forEach(k),F=j(D),x&&x.l(D),O=j(D),c=V(D,"DIV",{class:!0});var X=G(c);g=B(X,n[0]),p=B(X," move"),P&&P.l(X),I=B(X," | "),U=B(X,_),v=B(X,":"),nt=B(X,q),X.forEach(k),D.forEach(k),this.h()},h(){C(a,"class","muted svelte-11v2qtc"),C(c,"class","muted svelte-11v2qtc"),C(u,"class","toolbar svelte-11v2qtc")},m(h,D){Q(t,h,D),T(h,i,D),T(h,u,D),S(u,a),S(a,m),S(a,d),S(a,b),S(u,F),x&&x.m(u,null),S(u,O),S(u,c),S(c,g),S(c,p),P&&P.m(c,null),S(c,I),S(c,U),S(c,v),S(c,nt),$=!0},p(h,D){const W={};!e&&D&4&&(e=!0,W.rows=h[2],it(()=>e=!1)),!r&&D&8&&(r=!0,W.cols=h[3],it(()=>r=!1)),!s&&D&1&&(s=!0,W.actionCount=h[0],it(()=>s=!1)),!o&&D&16&&(o=!0,W.isSolved=h[4],it(()=>o=!1)),!l&&D&2&&(l=!0,W.durationInSec=h[1],it(()=>l=!1)),t.$set(W),(!$||D&4)&&at(m,h[2]),(!$||D&8)&&at(b,h[3]),h[4]?x||(x=Pt(),x.c(),x.m(u,O)):x&&(x.d(1),x=null),(!$||D&1)&&at(g,h[0]),h[0]>1?P||(P=Tt(),P.c(),P.m(c,I)):P&&(P.d(1),P=null),(!$||D&2)&&_!==(_=Math.floor(h[1]/60).toString().padStart(2,"0")+"")&&at(U,_),(!$||D&2)&&q!==(q=(h[1]%60).toString().padStart(2,"0")+"")&&at(nt,q)},i(h){$||(A(t.$$.fragment,h),$=!0)},o(h){H(t.$$.fragment,h),$=!1},d(h){h&&(k(i),k(u)),n[9](null),tt(t,h),x&&x.d(),P&&P.d()}}}function Oe(n){let t,e;return t=new bt({props:{$$slots:{default:[Pe]},$$scope:{ctx:n}}}),{c(){Z(t.$$.fragment)},l(r){K(t.$$.fragment,r)},m(r,s){Q(t,r,s),e=!0},p(r,s){const o={};s&524288&&(o.$$scope={dirty:s,ctx:r}),t.$set(o)},i(r){e||(A(t.$$.fragment,r),e=!0)},o(r){H(t.$$.fragment,r),e=!1},d(r){tt(t,r)}}}function Pe(n){let t;return{c(){t=E("Loading image...")},l(e){t=B(e,"Loading image...")},m(e,r){T(e,t,r)},d(e){e&&k(t)}}}function Te(n){let t,e,r={ctx:n,current:null,token:null,hasCatch:!0,pending:Oe,then:Ie,catch:Fe,value:18,blocks:[,,,]};return wt(n[7],r),{c(){t=gt(),r.block.c()},l(s){t=gt(),r.block.l(s)},m(s,o){T(s,t,o),r.block.m(s,r.anchor=o),r.mount=()=>t.parentNode,r.anchor=t,e=!0},p(s,o){n=s,Wt(r,n,o)},i(s){e||(A(r.block),e=!0)},o(s){for(let o=0;o<3;o+=1){const l=r.blocks[o];H(l)}e=!1},d(s){s&&k(t),r.block.d(s),r.token=null,r=null}}}function Ee(n){let t,e,r,s,o,l;return t=new ee({props:{$$slots:{default:[ye]},$$scope:{ctx:n}}}),r=new re({props:{$$slots:{default:[Te]},$$scope:{ctx:n}}}),o=new ne({}),{c(){Z(t.$$.fragment),e=J(),Z(r.$$.fragment),s=J(),Z(o.$$.fragment)},l(i){K(t.$$.fragment,i),e=j(i),K(r.$$.fragment,i),s=j(i),K(o.$$.fragment,i)},m(i,u){Q(t,i,u),T(i,e,u),Q(r,i,u),T(i,s,u),Q(o,i,u),l=!0},p(i,u){const a={};u&524288&&(a.$$scope={dirty:u,ctx:i}),t.$set(a);const m={};u&524351&&(m.$$scope={dirty:u,ctx:i}),r.$set(m)},i(i){l||(A(t.$$.fragment,i),A(r.$$.fragment,i),A(o.$$.fragment,i),l=!0)},o(i){H(t.$$.fragment,i),H(r.$$.fragment,i),H(o.$$.fragment,i),l=!1},d(i){i&&(k(e),k(s)),tt(t,i),tt(r,i),tt(o,i)}}}function Be(n){let t,e,r,s,o={ctx:n,current:null,token:null,hasCatch:!1,pending:we,then:be,catch:ve,value:18};return wt(n[7],o),r=new Kt({props:{maxWidth:"50rem",$$slots:{default:[Ee]},$$scope:{ctx:n}}}),{c(){t=gt(),o.block.c(),e=J(),Z(r.$$.fragment)},l(l){const i=Jt("svelte-1bxeki6",document.head);t=gt(),o.block.l(i),i.forEach(k),e=j(l),K(r.$$.fragment,l)},m(l,i){S(document.head,t),o.block.m(document.head,o.anchor=null),o.mount=()=>t.parentNode,o.anchor=t,T(l,e,i),Q(r,l,i),s=!0},p(l,[i]){n=l;const u={};i&524351&&(u.$$scope={dirty:i,ctx:n}),r.$set(u)},i(l){s||(A(r.$$.fragment,l),s=!0)},o(l){H(r.$$.fragment,l),s=!1},d(l){l&&k(e),k(t),o.block.d(),o.token=null,o=null,tt(r,l)}}}function ze(n,t,e){let r;Ut(n,jt,v=>e(15,r=v));function s(){try{const v=r.url.searchParams.get("i");if(!v)throw new Error("missing 'i' url parameter");return JSON.parse(decodeURIComponent(v))}catch(v){console.error("failed to parse url image",v)}return null}const o=parseInt(r.url.searchParams.get("n")??"100"),l=s()??Qt[0],i=te(l);let u,a,m,d,b,F,O;function c(v){Y[v?"unshift":"push"](()=>{F=v,e(5,F)})}function g(v){m=v,e(2,m)}function p(v){d=v,e(3,d)}function I(v){u=v,e(0,u)}function _(v){b=v,e(4,b)}function U(v){a=v,e(1,a)}return[u,a,m,d,b,F,o,i,O,c,g,p,I,_,U]}class He extends Bt{constructor(t){super(),zt(this,t,ze,Be,Et,{})}}export{He as component};
