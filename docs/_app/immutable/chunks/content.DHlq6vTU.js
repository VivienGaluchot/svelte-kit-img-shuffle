import{l as $,S as k,i as y,e as _,c as v,a as S,d,p as w,g as b,m as U,s as B,A as x,f as J,h as D,q as O}from"./index.l2PWj1v_.js";import{r as G,s as I,a as E,u as H,g as L,b as M,n as z}from"./scheduler.BQAbF66X.js";import{b as Y}from"./paths.C15CP0Nc.js";function _e(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function ve(n,e){n.d(1),e.delete(n.key)}function we(n,e,a,i,s,t,l,u,r,c,P,F){let h=n.length,g=t.length,p=h;const T={};for(;p--;)T[n[p].key]=p;const C=[],j=new Map,V=new Map,N=[];for(p=g;p--;){const o=F(s,t,p),f=a(o);let m=l.get(f);m?N.push(()=>m.p(o,e)):(m=c(f,o),m.c()),j.set(f,C[p]=m),f in T&&V.set(f,Math.abs(p-T[f]))}const q=new Set,A=new Set;function W(o){$(o,1),o.m(u,P),l.set(o.key,o),P=o.first,g--}for(;h&&g;){const o=C[g-1],f=n[h-1],m=o.key,R=f.key;o===f?(P=o.first,h--,g--):j.has(R)?!l.has(m)||q.has(m)?W(o):A.has(R)?h--:V.get(m)>V.get(R)?(A.add(m),W(o)):(q.add(R),h--):(r(f,l),h--)}for(;h--;){const o=n[h];j.has(o.key)||r(o,l)}for(;g;)W(C[g-1]);return G(N),C}function Z(n){let e,a;const i=n[1].default,s=E(i,n,n[0],null);return{c(){e=_("section"),s&&s.c(),this.h()},l(t){e=v(t,"SECTION",{class:!0});var l=S(e);s&&s.l(l),l.forEach(d),this.h()},h(){w(e,"class","svelte-1y2ukbu")},m(t,l){b(t,e,l),s&&s.m(e,null),a=!0},p(t,[l]){s&&s.p&&(!a||l&1)&&H(s,i,t,t[0],a?M(i,t[0],l,null):L(t[0]),null)},i(t){a||($(s,t),a=!0)},o(t){U(s,t),a=!1},d(t){t&&d(e),s&&s.d(t)}}}function K(n,e,a){let{$$slots:i={},$$scope:s}=e;return n.$$set=t=>{"$$scope"in t&&a(0,s=t.$$scope)},[s,i]}class $e extends k{constructor(e){super(),y(this,e,K,Z,I,{})}}const Q=""+new URL("../assets/photo-1687057217908-54f8e6d30e3c.Dsb9PnRj.avif",import.meta.url).href,X=""+new URL("../assets/photo-1689085383650-13d21072f5a6.b_BMIJtR.avif",import.meta.url).href,ee=""+new URL("../assets/bruno-martins-GkZvxVsHYWw-unsplash.BovO_Ikv.jpg",import.meta.url).href,te=""+new URL("../assets/alex-gagareen-r8_ZJ3qzgKo-unsplash.fqDmtHqo.jpg",import.meta.url).href,se=""+new URL("../assets/slava-auchynnikau-hAkmZyuHuRE-unsplash.NwezTu0h.jpg",import.meta.url).href,ne=""+new URL("../assets/tara-mae-miller-SzI9z8snVjk-unsplash.xtVI9I0a.jpg",import.meta.url).href,ae=""+new URL("../assets/valeria-kodra-2mj8Yu6Vftc-unsplash.C0EkgBeV.jpg",import.meta.url).href,le=""+new URL("../assets/360floralflaves-SNQfkUNHWlA-unsplash.pfFBWyYi.jpg",import.meta.url).href;async function ke(n){const e=await new Promise((a,i)=>{const s=new Image;s.onload=()=>a(s),s.onerror=t=>i(t),s.src=n.url});return{...n,size:{x:e.naturalWidth,y:e.naturalHeight}}}const ie={sea:{name:"Sea",url:Q},town:{name:"Town",url:X},street:{name:"Street",url:ee},car:{name:"Car",url:te},air_ballon:{name:"Air ballon",url:se},tag:{name:"Tag",url:ne},cosy:{name:"Cozy",url:ae},nut:{name:"Nut",url:le}};function ye(n,e){const a=Math.sqrt(e*n.y/n.x);return{x:Math.round(e/a),y:Math.round(a)}}function be(n,e){n.searchParams.set("n",`${e.tileCount}`),e.kind=="static"&&n.searchParams.set("i",encodeURIComponent(e.key)),e.kind=="custom"&&n.searchParams.set("c",encodeURIComponent(JSON.stringify(e.image)))}function Ie(n){const e=n.searchParams.get("n");if(!e)throw new Error("missing 'n' url parameter");const a=parseInt(e),i=n.searchParams.get("i"),s=n.searchParams.get("c");if(i)return{kind:"static",tileCount:a,key:i};if(s){const t=JSON.parse(decodeURIComponent(s));return{kind:"custom",tileCount:a,image:t}}else throw new Error("missing 'c' or 's' url parameter")}function Ce(n){if(n.kind=="static"){const e=ie[n.key];if(!e)throw new Error(`unknown image key '${n.key}'`);return e}else return n.image}function re(n){let e,a,i=`<img src="${Y}/favicon.png" alt="logo" class="svelte-134mbkx"/> <h1 class="svelte-134mbkx">Picture slicer</h1>`,s,t;const l=n[1].default,u=E(l,n,n[0],null);return{c(){e=_("header"),a=_("div"),a.innerHTML=i,s=B(),u&&u.c(),this.h()},l(r){e=v(r,"HEADER",{class:!0});var c=S(e);a=v(c,"DIV",{class:!0,"data-svelte-h":!0}),x(a)!=="svelte-1rs3xkn"&&(a.innerHTML=i),s=J(c),u&&u.l(c),c.forEach(d),this.h()},h(){w(a,"class","logo-bar svelte-134mbkx"),w(e,"class","svelte-134mbkx")},m(r,c){b(r,e,c),D(e,a),D(e,s),u&&u.m(e,null),t=!0},p(r,[c]){u&&u.p&&(!t||c&1)&&H(u,l,r,r[0],t?M(l,r[0],c,null):L(r[0]),null)},i(r){t||($(u,r),t=!0)},o(r){U(u,r),t=!1},d(r){r&&d(e),u&&u.d(r)}}}function oe(n,e,a){let{$$slots:i={},$$scope:s}=e;return n.$$set=t=>{"$$scope"in t&&a(0,s=t.$$scope)},[s,i]}class Re extends k{constructor(e){super(),y(this,e,oe,re,I,{})}}function ue(n){let e,a='<a class="button" href="https://github.com/VivienGaluchot/svelte-kit-img-shuffle/issues" target="_blank">üêû see a bug?</a>';return{c(){e=_("footer"),e.innerHTML=a,this.h()},l(i){e=v(i,"FOOTER",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-nr4tmr"&&(e.innerHTML=a),this.h()},h(){w(e,"class","svelte-1fnk7ix")},m(i,s){b(i,e,s)},p:z,i:z,o:z,d(i){i&&d(e)}}}class Se extends k{constructor(e){super(),y(this,e,null,ue,I,{})}}function ce(n){let e,a;const i=n[2].default,s=E(i,n,n[1],null);return{c(){e=_("div"),s&&s.c(),this.h()},l(t){e=v(t,"DIV",{style:!0,class:!0});var l=S(e);s&&s.l(l),l.forEach(d),this.h()},h(){O(e,"max-width",n[0]),w(e,"class","svelte-da5i2p")},m(t,l){b(t,e,l),s&&s.m(e,null),a=!0},p(t,[l]){s&&s.p&&(!a||l&2)&&H(s,i,t,t[1],a?M(i,t[1],l,null):L(t[1]),null),(!a||l&1)&&O(e,"max-width",t[0])},i(t){a||($(s,t),a=!0)},o(t){U(s,t),a=!1},d(t){t&&d(e),s&&s.d(t)}}}function fe(n,e,a){let{$$slots:i={},$$scope:s}=e,{maxWidth:t="unset"}=e;return n.$$set=l=>{"maxWidth"in l&&a(0,t=l.maxWidth),"$$scope"in l&&a(1,s=l.$$scope)},[t,s,i]}class Ue extends k{constructor(e){super(),y(this,e,fe,ce,I,{maxWidth:0})}}function me(n){let e,a;const i=n[1].default,s=E(i,n,n[0],null);return{c(){e=_("div"),s&&s.c(),this.h()},l(t){e=v(t,"DIV",{class:!0});var l=S(e);s&&s.l(l),l.forEach(d),this.h()},h(){w(e,"class","svelte-10od45t")},m(t,l){b(t,e,l),s&&s.m(e,null),a=!0},p(t,[l]){s&&s.p&&(!a||l&1)&&H(s,i,t,t[0],a?M(i,t[0],l,null):L(t[0]),null)},i(t){a||($(s,t),a=!0)},o(t){U(s,t),a=!1},d(t){t&&d(e),s&&s.d(t)}}}function he(n,e,a){let{$$slots:i={},$$scope:s}=e;return n.$$set=t=>{"$$scope"in t&&a(0,s=t.$$scope)},[s,i]}class Ee extends k{constructor(e){super(),y(this,e,he,me,I,{})}}export{Ue as C,Se as F,Re as H,$e as S,be as a,Ee as b,ye as c,ve as d,_e as e,Ie as f,Ce as g,ie as s,ke as t,we as u};
