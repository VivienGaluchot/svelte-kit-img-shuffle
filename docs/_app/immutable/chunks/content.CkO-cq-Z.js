import{l as $,S as k,i as y,e as _,c as v,a as S,d,p as w,g as b,m as E,s as N,A as F,f as B,h as x,q as A}from"./index.l2PWj1v_.js";import{r as G,s as I,a as U,u as H,g as L,b as M,n as q}from"./scheduler.BQAbF66X.js";import{b as Z}from"./paths.DQkIXwRT.js";function ge(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function _e(n,e){n.d(1),e.delete(n.key)}function ve(n,e,a,i,s,t,l,c,r,u,P,J){let h=n.length,g=t.length,p=h;const T={};for(;p--;)T[n[p].key]=p;const C=[],j=new Map,V=new Map,D=[];for(p=g;p--;){const o=J(s,t,p),f=a(o);let m=l.get(f);m?D.push(()=>m.p(o,e)):(m=u(f,o),m.c()),j.set(f,C[p]=m),f in T&&V.set(f,Math.abs(p-T[f]))}const O=new Set,W=new Set;function z(o){$(o,1),o.m(c,P),l.set(o.key,o),P=o.first,g--}for(;h&&g;){const o=C[g-1],f=n[h-1],m=o.key,R=f.key;o===f?(P=o.first,h--,g--):j.has(R)?!l.has(m)||O.has(m)?z(o):W.has(R)?h--:V.get(m)>V.get(R)?(W.add(m),z(o)):(O.add(R),h--):(r(f,l),h--)}for(;h--;){const o=n[h];j.has(o.key)||r(o,l)}for(;g;)z(C[g-1]);return G(D),C}function Y(n){let e,a;const i=n[1].default,s=U(i,n,n[0],null);return{c(){e=_("section"),s&&s.c(),this.h()},l(t){e=v(t,"SECTION",{class:!0});var l=S(e);s&&s.l(l),l.forEach(d),this.h()},h(){w(e,"class","svelte-1y2ukbu")},m(t,l){b(t,e,l),s&&s.m(e,null),a=!0},p(t,[l]){s&&s.p&&(!a||l&1)&&H(s,i,t,t[0],a?M(i,t[0],l,null):L(t[0]),null)},i(t){a||($(s,t),a=!0)},o(t){E(s,t),a=!1},d(t){t&&d(e),s&&s.d(t)}}}function K(n,e,a){let{$$slots:i={},$$scope:s}=e;return n.$$set=t=>{"$$scope"in t&&a(0,s=t.$$scope)},[s,i]}class we extends k{constructor(e){super(),y(this,e,K,Y,I,{})}}const Q=""+new URL("../assets/photo-1687057217908-54f8e6d30e3c.Dsb9PnRj.avif",import.meta.url).href,X=""+new URL("../assets/photo-1689085383650-13d21072f5a6.b_BMIJtR.avif",import.meta.url).href,ee=""+new URL("../assets/bruno-martins-GkZvxVsHYWw-unsplash.BovO_Ikv.jpg",import.meta.url).href,te=""+new URL("../assets/alex-gagareen-r8_ZJ3qzgKo-unsplash.fqDmtHqo.jpg",import.meta.url).href,se=""+new URL("../assets/slava-auchynnikau-hAkmZyuHuRE-unsplash.NwezTu0h.jpg",import.meta.url).href,ne=""+new URL("../assets/tara-mae-miller-SzI9z8snVjk-unsplash.xtVI9I0a.jpg",import.meta.url).href,ae=""+new URL("../assets/valeria-kodra-2mj8Yu6Vftc-unsplash.C0EkgBeV.jpg",import.meta.url).href;async function $e(n){const e=await new Promise((a,i)=>{const s=new Image;s.onload=()=>a(s),s.onerror=t=>i(t),s.src=n.url});return{...n,size:{x:e.naturalWidth,y:e.naturalHeight}}}const le={sea:{name:"Sea",url:Q},town:{name:"Town",url:X},street:{name:"Street",url:ee},car:{name:"Car",url:te},air_ballon:{name:"Air ballon",url:se},tag:{name:"Tag",url:ne},cosy:{name:"Cozy",url:ae}};function ke(n,e){const a=Math.sqrt(e*n.y/n.x);return{x:Math.round(e/a),y:Math.round(a)}}function ye(n,e){n.searchParams.set("n",`${e.tileCount}`),e.kind=="static"&&n.searchParams.set("i",encodeURIComponent(e.key)),e.kind=="custom"&&n.searchParams.set("c",encodeURIComponent(JSON.stringify(e.image)))}function be(n){const e=n.searchParams.get("n");if(!e)throw new Error("missing 'n' url parameter");const a=parseInt(e),i=n.searchParams.get("i"),s=n.searchParams.get("c");if(i)return{kind:"static",tileCount:a,key:i};if(s){const t=JSON.parse(decodeURIComponent(s));return{kind:"custom",tileCount:a,image:t}}else throw new Error("missing 'c' or 's' url parameter")}function Ie(n){if(n.kind=="static"){const e=le[n.key];if(!e)throw new Error(`unknown image key '${n.key}'`);return e}else return n.image}function ie(n){let e,a,i=`<img src="${Z}/favicon.png" alt="logo" class="svelte-134mbkx"/> <h1 class="svelte-134mbkx">Picture slicer</h1>`,s,t;const l=n[1].default,c=U(l,n,n[0],null);return{c(){e=_("header"),a=_("div"),a.innerHTML=i,s=N(),c&&c.c(),this.h()},l(r){e=v(r,"HEADER",{class:!0});var u=S(e);a=v(u,"DIV",{class:!0,"data-svelte-h":!0}),F(a)!=="svelte-1rs3xkn"&&(a.innerHTML=i),s=B(u),c&&c.l(u),u.forEach(d),this.h()},h(){w(a,"class","logo-bar svelte-134mbkx"),w(e,"class","svelte-134mbkx")},m(r,u){b(r,e,u),x(e,a),x(e,s),c&&c.m(e,null),t=!0},p(r,[u]){c&&c.p&&(!t||u&1)&&H(c,l,r,r[0],t?M(l,r[0],u,null):L(r[0]),null)},i(r){t||($(c,r),t=!0)},o(r){E(c,r),t=!1},d(r){r&&d(e),c&&c.d(r)}}}function re(n,e,a){let{$$slots:i={},$$scope:s}=e;return n.$$set=t=>{"$$scope"in t&&a(0,s=t.$$scope)},[s,i]}class Ce extends k{constructor(e){super(),y(this,e,re,ie,I,{})}}function oe(n){let e,a='<a class="button" href="https://github.com/VivienGaluchot/svelte-kit-img-shuffle/issues">üêû see a bug?</a>';return{c(){e=_("footer"),e.innerHTML=a,this.h()},l(i){e=v(i,"FOOTER",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-1iej4yg"&&(e.innerHTML=a),this.h()},h(){w(e,"class","svelte-1fnk7ix")},m(i,s){b(i,e,s)},p:q,i:q,o:q,d(i){i&&d(e)}}}class Re extends k{constructor(e){super(),y(this,e,null,oe,I,{})}}function ce(n){let e,a;const i=n[2].default,s=U(i,n,n[1],null);return{c(){e=_("div"),s&&s.c(),this.h()},l(t){e=v(t,"DIV",{style:!0,class:!0});var l=S(e);s&&s.l(l),l.forEach(d),this.h()},h(){A(e,"max-width",n[0]),w(e,"class","svelte-da5i2p")},m(t,l){b(t,e,l),s&&s.m(e,null),a=!0},p(t,[l]){s&&s.p&&(!a||l&2)&&H(s,i,t,t[1],a?M(i,t[1],l,null):L(t[1]),null),(!a||l&1)&&A(e,"max-width",t[0])},i(t){a||($(s,t),a=!0)},o(t){E(s,t),a=!1},d(t){t&&d(e),s&&s.d(t)}}}function ue(n,e,a){let{$$slots:i={},$$scope:s}=e,{maxWidth:t="unset"}=e;return n.$$set=l=>{"maxWidth"in l&&a(0,t=l.maxWidth),"$$scope"in l&&a(1,s=l.$$scope)},[t,s,i]}class Se extends k{constructor(e){super(),y(this,e,ue,ce,I,{maxWidth:0})}}function fe(n){let e,a;const i=n[1].default,s=U(i,n,n[0],null);return{c(){e=_("div"),s&&s.c(),this.h()},l(t){e=v(t,"DIV",{class:!0});var l=S(e);s&&s.l(l),l.forEach(d),this.h()},h(){w(e,"class","svelte-10od45t")},m(t,l){b(t,e,l),s&&s.m(e,null),a=!0},p(t,[l]){s&&s.p&&(!a||l&1)&&H(s,i,t,t[0],a?M(i,t[0],l,null):L(t[0]),null)},i(t){a||($(s,t),a=!0)},o(t){E(s,t),a=!1},d(t){t&&d(e),s&&s.d(t)}}}function me(n,e,a){let{$$slots:i={},$$scope:s}=e;return n.$$set=t=>{"$$scope"in t&&a(0,s=t.$$scope)},[s,i]}class Ee extends k{constructor(e){super(),y(this,e,me,fe,I,{})}}export{Se as C,Re as F,Ce as H,we as S,ye as a,Ee as b,ke as c,_e as d,ge as e,be as f,Ie as g,le as s,$e as t,ve as u};
